function incrementViews($viewCounts) {
    var id = $(this).find("input#Id").val();

    if (typeof (Storage) !== "undefined" && !localStorage.getItem("HasUserAlreadySeen_" + id)) {
        $.ajax({
            url: $viewCounts.data().url,
            method: "post",
            dataType: "json",
            success: function (data) {
                $viewCounts.first().text(data.UniqueViews);
                localStorage.setItem("HasUserAlreadySeen_" + id, true);
            }
        });
    }
}

function initFrontpageAudio() {
    $("#sorting-text").html($("script[type='text/SortingText-template']").html());

    $(".audio-wrapper .controls .fa-arrow-up").click(function () {
        rate($(this), $(this).siblings(".fa-arrow-down"), $(this).data().url);
    });
    $(".audio-wrapper .controls .fa-arrow-down").click(function () {
        rate($(this), $(this).siblings(".fa-arrow-up"), $(this).data().url);
    });

    $(".controls .fa-flag").click(function () {
        $.ajax({
            url: $(this).data().url,
            success: function (data) {
                $("#popup").hide().html(data).fadeIn();
                $("#cover").fadeIn();
                $("#popup").addClass("popup-wide");
                initRequestDeletion();
            }
        });
    });

    $(".controls .fa-plus").click(function () {
        $.ajax({
            url: $(this).data().url,
            success: function (data) {
                $("#popup").hide().html(data).fadeIn();
                $("#cover").fadeIn();
                $("#popup").addClass("popup-wide");
                initCreatePlaylist();
            }
        });
    });

    $(".controls .fa-download").click(function () {
        window.location.href = $(this).data().url;
    });

    $(".poster-wrapper").hover(function () {
        $(this).children(".controls").slideDown("fast");
        $(this).find(".fa-play").fadeIn("fast");
        $(this).addClass("hovered");
    }, function () {
        $(this).children(".controls").slideUp("fast");
        $(this).find(".fa-play").fadeOut("fast");
        $(this).removeClass("hovered");
    });

    $(".audio-wrapper").on("click", ".fa-play", function (e) {
        var audioId = $(e.delegateTarget).data("audio-id");

        changePlayOrInitPlayer(footerPlayer, $(e.delegateTarget).data("playlist-url"), audioId, initFooterPlayer);
    });

    $(".audio-wrapper").on("click", ".fa-pause", function () {
        $(footerPlayer.cssSelector.jPlayer).jPlayer("pause");
    });

    $(".rating.title, .commented.title, .played.title").click(function () {
        $(this).next().fadeToggle("fast");
    });

    $(".title").parent().mouseleave(function () {
        $(this).children(".menu").fadeOut("fast");
    });

    $("#body-header .fa-random").click(function () {
        var $audioWrappers = $(".audio-wrapper");
        var allAudiosLength = $audioWrappers.length;
        var rnd = Math.floor(Math.random() * allAudiosLength);

        if (allAudiosLength <= 0)
            return;

        changeOrPlayPlaylist(footerPlayer, $(".audio-wrapper").eq(rnd).data("playlist-url"), $(".audio-wrapper").eq(rnd).data("audio-id"))
    });

    $(".ratings-container").each(function (i, object) {
        calcRatingsBar(object);
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJhdWRpb3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gaW5jcmVtZW50Vmlld3MoJHZpZXdDb3VudHMpIHtcclxuICAgIHZhciBpZCA9ICQodGhpcykuZmluZChcImlucHV0I0lkXCIpLnZhbCgpO1xyXG5cclxuICAgIGlmICh0eXBlb2YgKFN0b3JhZ2UpICE9PSBcInVuZGVmaW5lZFwiICYmICFsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIkhhc1VzZXJBbHJlYWR5U2Vlbl9cIiArIGlkKSkge1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogJHZpZXdDb3VudHMuZGF0YSgpLnVybCxcclxuICAgICAgICAgICAgbWV0aG9kOiBcInBvc3RcIixcclxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgJHZpZXdDb3VudHMuZmlyc3QoKS50ZXh0KGRhdGEuVW5pcXVlVmlld3MpO1xyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJIYXNVc2VyQWxyZWFkeVNlZW5fXCIgKyBpZCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdEZyb250cGFnZUF1ZGlvKCkge1xyXG4gICAgJChcIiNzb3J0aW5nLXRleHRcIikuaHRtbCgkKFwic2NyaXB0W3R5cGU9J3RleHQvU29ydGluZ1RleHQtdGVtcGxhdGUnXVwiKS5odG1sKCkpO1xyXG5cclxuICAgICQoXCIuYXVkaW8td3JhcHBlciAuY29udHJvbHMgLmZhLWFycm93LXVwXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByYXRlKCQodGhpcyksICQodGhpcykuc2libGluZ3MoXCIuZmEtYXJyb3ctZG93blwiKSwgJCh0aGlzKS5kYXRhKCkudXJsKTtcclxuICAgIH0pO1xyXG4gICAgJChcIi5hdWRpby13cmFwcGVyIC5jb250cm9scyAuZmEtYXJyb3ctZG93blwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmF0ZSgkKHRoaXMpLCAkKHRoaXMpLnNpYmxpbmdzKFwiLmZhLWFycm93LXVwXCIpLCAkKHRoaXMpLmRhdGEoKS51cmwpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIi5jb250cm9scyAuZmEtZmxhZ1wiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiAkKHRoaXMpLmRhdGEoKS51cmwsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiI3BvcHVwXCIpLmhpZGUoKS5odG1sKGRhdGEpLmZhZGVJbigpO1xyXG4gICAgICAgICAgICAgICAgJChcIiNjb3ZlclwiKS5mYWRlSW4oKTtcclxuICAgICAgICAgICAgICAgICQoXCIjcG9wdXBcIikuYWRkQ2xhc3MoXCJwb3B1cC13aWRlXCIpO1xyXG4gICAgICAgICAgICAgICAgaW5pdFJlcXVlc3REZWxldGlvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKFwiLmNvbnRyb2xzIC5mYS1wbHVzXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB1cmw6ICQodGhpcykuZGF0YSgpLnVybCxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICQoXCIjcG9wdXBcIikuaGlkZSgpLmh0bWwoZGF0YSkuZmFkZUluKCk7XHJcbiAgICAgICAgICAgICAgICAkKFwiI2NvdmVyXCIpLmZhZGVJbigpO1xyXG4gICAgICAgICAgICAgICAgJChcIiNwb3B1cFwiKS5hZGRDbGFzcyhcInBvcHVwLXdpZGVcIik7XHJcbiAgICAgICAgICAgICAgICBpbml0Q3JlYXRlUGxheWxpc3QoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIi5jb250cm9scyAuZmEtZG93bmxvYWRcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJCh0aGlzKS5kYXRhKCkudXJsO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIi5wb3N0ZXItd3JhcHBlclwiKS5ob3ZlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5jaGlsZHJlbihcIi5jb250cm9sc1wiKS5zbGlkZURvd24oXCJmYXN0XCIpO1xyXG4gICAgICAgICQodGhpcykuZmluZChcIi5mYS1wbGF5XCIpLmZhZGVJbihcImZhc3RcIik7XHJcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImhvdmVyZWRcIik7XHJcbiAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5jaGlsZHJlbihcIi5jb250cm9sc1wiKS5zbGlkZVVwKFwiZmFzdFwiKTtcclxuICAgICAgICAkKHRoaXMpLmZpbmQoXCIuZmEtcGxheVwiKS5mYWRlT3V0KFwiZmFzdFwiKTtcclxuICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwiaG92ZXJlZFwiKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoXCIuYXVkaW8td3JhcHBlclwiKS5vbihcImNsaWNrXCIsIFwiLmZhLXBsYXlcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICB2YXIgYXVkaW9JZCA9ICQoZS5kZWxlZ2F0ZVRhcmdldCkuZGF0YShcImF1ZGlvLWlkXCIpO1xyXG5cclxuICAgICAgICBjaGFuZ2VQbGF5T3JJbml0UGxheWVyKGZvb3RlclBsYXllciwgJChlLmRlbGVnYXRlVGFyZ2V0KS5kYXRhKFwicGxheWxpc3QtdXJsXCIpLCBhdWRpb0lkLCBpbml0Rm9vdGVyUGxheWVyKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoXCIuYXVkaW8td3JhcHBlclwiKS5vbihcImNsaWNrXCIsIFwiLmZhLXBhdXNlXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKGZvb3RlclBsYXllci5jc3NTZWxlY3Rvci5qUGxheWVyKS5qUGxheWVyKFwicGF1c2VcIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKFwiLnJhdGluZy50aXRsZSwgLmNvbW1lbnRlZC50aXRsZSwgLnBsYXllZC50aXRsZVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5uZXh0KCkuZmFkZVRvZ2dsZShcImZhc3RcIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKFwiLnRpdGxlXCIpLnBhcmVudCgpLm1vdXNlbGVhdmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykuY2hpbGRyZW4oXCIubWVudVwiKS5mYWRlT3V0KFwiZmFzdFwiKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoXCIjYm9keS1oZWFkZXIgLmZhLXJhbmRvbVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyICRhdWRpb1dyYXBwZXJzID0gJChcIi5hdWRpby13cmFwcGVyXCIpO1xyXG4gICAgICAgIHZhciBhbGxBdWRpb3NMZW5ndGggPSAkYXVkaW9XcmFwcGVycy5sZW5ndGg7XHJcbiAgICAgICAgdmFyIHJuZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFsbEF1ZGlvc0xlbmd0aCk7XHJcblxyXG4gICAgICAgIGlmIChhbGxBdWRpb3NMZW5ndGggPD0gMClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICBjaGFuZ2VPclBsYXlQbGF5bGlzdChmb290ZXJQbGF5ZXIsICQoXCIuYXVkaW8td3JhcHBlclwiKS5lcShybmQpLmRhdGEoXCJwbGF5bGlzdC11cmxcIiksICQoXCIuYXVkaW8td3JhcHBlclwiKS5lcShybmQpLmRhdGEoXCJhdWRpby1pZFwiKSlcclxuICAgIH0pO1xyXG5cclxuICAgICQoXCIucmF0aW5ncy1jb250YWluZXJcIikuZWFjaChmdW5jdGlvbiAoaSwgb2JqZWN0KSB7XHJcbiAgICAgICAgY2FsY1JhdGluZ3NCYXIob2JqZWN0KTtcclxuICAgIH0pO1xyXG59Il0sImZpbGUiOiJhdWRpb3MuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

function commentsInit(audioId) {
    $("#comments-sidebar .sort a").data("sortDescending", true);
    $("#comments-sidebar .sort a").first().data("sortDescending", false);

    $("#comments-sidebar .sort a").click(function (e) {
        e.preventDefault();

        var $self = $(this);
        var sortDescending = $self.data("sortDescending");

        $.post($self.attr("action"), { audioId: audioId, sortDescending: sortDescending }).success(function (data) {
            $("#comments").html(data);
            $self.data("sortDescending", !sortDescending);
        });
    });

    $("#comments").on("click", ".reply-body a", function (e) {
        e.preventDefault();

        var $self = $(this);
        var $replyBody = $self.closest(".reply-body");
        $replyBody.data("PreviousHtml", $replyBody.html());

        $.get($self.attr("href")).success(function (data) {
            $replyBody.html(data);
        });
    });

    $("#comments .rating a").on("click", function (e) {
        e.preventDefault();
        debugger;
        rate($(this).children(), $(this).siblings("a").children(), $(this).attr("href"));
    });

    $("#comments").on("click", ".fa-flag", function (e) {
        e.preventDefault();

        $.get($self.attr("href")).success(function (data) {
            showPopup(data);
            $("#popup").addClass("popup-wide");
        });
    });

    $("#comments").on("click", ".fa-pencil", function (e) {
        e.preventDefault();

        var $self = $(this);
        var $commentBody = $self.closest(".comment").children(".comment-body");

        $commentBody.data("PreviousHtml", $commentBody.html());

        $.get($self.attr("href")).success(function (data) {
            $commentBody.html(data);
        });
    });

    $("#comments").on("submit", "form.edit", function (e) {
        e.preventDefault();
        var $self = $(this);

        $.post($self.attr("action"), $self.serialize()).success(function (data) {
            $self.closest(".comment-body").html(data);
        }).error(function (jqXhr) {
            if (jqXhr.status === 400) {
                $self.html(jqXhr.responseText);
            }
            //ToDo: Show error message here in view
        });
    });

    $("#comments").on("submit", "form.reply", function (e) {
        e.preventDefault();
        var $self = $(this);

        $.post($self.attr("action"), $self.serialize()).success(function (data) {
            $self.parents(".comment").last().append(data);
            var $body = $self.parent();
            var previousHtml = $body.data("PreviousHtml");

            $body.html(previousHtml);
        }).error(function (jqXhr) {
            if (jqXhr.status === 400) {
                $self.html(jqXhr.responseText);
            }
            //ToDo: Show error message here in view
        });
    });

    $("#comments").on("click", "form input[type=button]", function () {
        var $body = $(this).closest("form").parent();
        var previousHtml = $body.data("PreviousHtml");

        $body.html(previousHtml);
    });

    $("#comments-sidebar #create-comment").submit(function (e) {
        e.preventDefault();
        var $self = $(this);

        $.post($self.attr("action"), $self.serialize()).success(function (data) {
            $self.siblings("#comments").prepend(data);
            $self.find("textarea").val("");
        }).error(function (jqXhr) {
            if (jqXhr.status === 400) {
                $self.html(jqXhr.responseText);
            }
            //ToDo: Show error message here in view
        });
    });

    $("#comments").on("click", ".fa-times", function (e) {
        e.preventDefault();

        var $self = $(this);

        $.post($self.attr("href")).success(function (data) {
            if (!data) {
                $self.closest(".comment").remove();
            } else {
                $self.closest(".comment").replaceWith(data);
            }
        });
    });

    $("#comments").on("click", ".show-more", function (e) {
        e.preventDefault();

        var $self = $(this);

        $.get($(this).data().url, function (data) {
            $self.closest(".comment").append(data);
            $self.hide();
        });
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJjb21tZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGNvbW1lbnRzSW5pdChhdWRpb0lkKSB7XHJcbiAgICAkKFwiI2NvbW1lbnRzLXNpZGViYXIgLnNvcnQgYVwiKS5kYXRhKFwic29ydERlc2NlbmRpbmdcIiwgdHJ1ZSk7XHJcbiAgICAkKFwiI2NvbW1lbnRzLXNpZGViYXIgLnNvcnQgYVwiKS5maXJzdCgpLmRhdGEoXCJzb3J0RGVzY2VuZGluZ1wiLCBmYWxzZSk7XHJcblxyXG4gICAgJChcIiNjb21tZW50cy1zaWRlYmFyIC5zb3J0IGFcIikuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIHZhciAkc2VsZiA9ICQodGhpcyk7XHJcbiAgICAgICAgdmFyIHNvcnREZXNjZW5kaW5nID0gJHNlbGYuZGF0YShcInNvcnREZXNjZW5kaW5nXCIpO1xyXG5cclxuICAgICAgICAkLnBvc3QoJHNlbGYuYXR0cihcImFjdGlvblwiKSwgeyBhdWRpb0lkOiBhdWRpb0lkLCBzb3J0RGVzY2VuZGluZzogc29ydERlc2NlbmRpbmcgfSkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAkKFwiI2NvbW1lbnRzXCIpLmh0bWwoZGF0YSk7XHJcbiAgICAgICAgICAgICRzZWxmLmRhdGEoXCJzb3J0RGVzY2VuZGluZ1wiLCAhc29ydERlc2NlbmRpbmcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIiNjb21tZW50c1wiKS5vbihcImNsaWNrXCIsIFwiLnJlcGx5LWJvZHkgYVwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgdmFyICRzZWxmID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgJHJlcGx5Qm9keSA9ICRzZWxmLmNsb3Nlc3QoXCIucmVwbHktYm9keVwiKTtcclxuICAgICAgICAkcmVwbHlCb2R5LmRhdGEoXCJQcmV2aW91c0h0bWxcIiwgJHJlcGx5Qm9keS5odG1sKCkpO1xyXG5cclxuICAgICAgICAkLmdldCgkc2VsZi5hdHRyKFwiaHJlZlwiKSkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAkcmVwbHlCb2R5Lmh0bWwoZGF0YSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKFwiI2NvbW1lbnRzIC5yYXRpbmcgYVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGRlYnVnZ2VyO1xyXG4gICAgICAgIHJhdGUoJCh0aGlzKS5jaGlsZHJlbigpLCAkKHRoaXMpLnNpYmxpbmdzKFwiYVwiKS5jaGlsZHJlbigpLCAkKHRoaXMpLmF0dHIoXCJocmVmXCIpKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoXCIjY29tbWVudHNcIikub24oXCJjbGlja1wiLCBcIi5mYS1mbGFnXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAkLmdldCgkc2VsZi5hdHRyKFwiaHJlZlwiKSkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICBzaG93UG9wdXAoZGF0YSk7XHJcbiAgICAgICAgICAgICQoXCIjcG9wdXBcIikuYWRkQ2xhc3MoXCJwb3B1cC13aWRlXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIiNjb21tZW50c1wiKS5vbihcImNsaWNrXCIsIFwiLmZhLXBlbmNpbFwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgdmFyICRzZWxmID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgJGNvbW1lbnRCb2R5ID0gJHNlbGYuY2xvc2VzdChcIi5jb21tZW50XCIpLmNoaWxkcmVuKFwiLmNvbW1lbnQtYm9keVwiKTtcclxuXHJcbiAgICAgICAgJGNvbW1lbnRCb2R5LmRhdGEoXCJQcmV2aW91c0h0bWxcIiwgJGNvbW1lbnRCb2R5Lmh0bWwoKSk7XHJcblxyXG4gICAgICAgICQuZ2V0KCRzZWxmLmF0dHIoXCJocmVmXCIpKS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICRjb21tZW50Qm9keS5odG1sKGRhdGEpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIiNjb21tZW50c1wiKS5vbihcInN1Ym1pdFwiLCBcImZvcm0uZWRpdFwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgJHNlbGYgPSAkKHRoaXMpO1xyXG5cclxuICAgICAgICAkLnBvc3QoJHNlbGYuYXR0cihcImFjdGlvblwiKSwgJHNlbGYuc2VyaWFsaXplKCkpLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgJHNlbGYuY2xvc2VzdChcIi5jb21tZW50LWJvZHlcIikuaHRtbChkYXRhKTtcclxuICAgICAgICB9KS5lcnJvcihmdW5jdGlvbiAoanFYaHIpIHtcclxuICAgICAgICAgICAgaWYgKGpxWGhyLnN0YXR1cyA9PT0gNDAwKSB7XHJcbiAgICAgICAgICAgICAgICAkc2VsZi5odG1sKGpxWGhyLnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9Ub0RvOiBTaG93IGVycm9yIG1lc3NhZ2UgaGVyZSBpbiB2aWV3XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKFwiI2NvbW1lbnRzXCIpLm9uKFwic3VibWl0XCIsIFwiZm9ybS5yZXBseVwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgJHNlbGYgPSAkKHRoaXMpO1xyXG5cclxuICAgICAgICAkLnBvc3QoJHNlbGYuYXR0cihcImFjdGlvblwiKSwgJHNlbGYuc2VyaWFsaXplKCkpLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgJHNlbGYucGFyZW50cyhcIi5jb21tZW50XCIpLmxhc3QoKS5hcHBlbmQoZGF0YSk7XHJcbiAgICAgICAgICAgIHZhciAkYm9keSA9ICRzZWxmLnBhcmVudCgpO1xyXG4gICAgICAgICAgICB2YXIgcHJldmlvdXNIdG1sID0gJGJvZHkuZGF0YShcIlByZXZpb3VzSHRtbFwiKTtcclxuXHJcbiAgICAgICAgICAgICRib2R5Lmh0bWwocHJldmlvdXNIdG1sKTtcclxuICAgICAgICB9KS5lcnJvcihmdW5jdGlvbiAoanFYaHIpIHtcclxuICAgICAgICAgICAgaWYgKGpxWGhyLnN0YXR1cyA9PT0gNDAwKSB7XHJcbiAgICAgICAgICAgICAgICAkc2VsZi5odG1sKGpxWGhyLnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9Ub0RvOiBTaG93IGVycm9yIG1lc3NhZ2UgaGVyZSBpbiB2aWV3XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKFwiI2NvbW1lbnRzXCIpLm9uKFwiY2xpY2tcIiwgXCJmb3JtIGlucHV0W3R5cGU9YnV0dG9uXVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyICRib2R5ID0gJCh0aGlzKS5jbG9zZXN0KFwiZm9ybVwiKS5wYXJlbnQoKTtcclxuICAgICAgICB2YXIgcHJldmlvdXNIdG1sID0gJGJvZHkuZGF0YShcIlByZXZpb3VzSHRtbFwiKTtcclxuXHJcbiAgICAgICAgJGJvZHkuaHRtbChwcmV2aW91c0h0bWwpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIiNjb21tZW50cy1zaWRlYmFyICNjcmVhdGUtY29tbWVudFwiKS5zdWJtaXQoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyICRzZWxmID0gJCh0aGlzKTtcclxuXHJcbiAgICAgICAgJC5wb3N0KCRzZWxmLmF0dHIoXCJhY3Rpb25cIiksICRzZWxmLnNlcmlhbGl6ZSgpKS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICRzZWxmLnNpYmxpbmdzKFwiI2NvbW1lbnRzXCIpLnByZXBlbmQoZGF0YSk7XHJcbiAgICAgICAgICAgICRzZWxmLmZpbmQoXCJ0ZXh0YXJlYVwiKS52YWwoXCJcIik7XHJcbiAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKGpxWGhyKSB7XHJcbiAgICAgICAgICAgIGlmIChqcVhoci5zdGF0dXMgPT09IDQwMCkge1xyXG4gICAgICAgICAgICAgICAgJHNlbGYuaHRtbChqcVhoci5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vVG9EbzogU2hvdyBlcnJvciBtZXNzYWdlIGhlcmUgaW4gdmlld1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIiNjb21tZW50c1wiKS5vbihcImNsaWNrXCIsIFwiLmZhLXRpbWVzXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICB2YXIgJHNlbGYgPSAkKHRoaXMpO1xyXG5cclxuICAgICAgICAkLnBvc3QoJHNlbGYuYXR0cihcImhyZWZcIikpLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKCFkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAkc2VsZi5jbG9zZXN0KFwiLmNvbW1lbnRcIikucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkc2VsZi5jbG9zZXN0KFwiLmNvbW1lbnRcIikucmVwbGFjZVdpdGgoZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoXCIjY29tbWVudHNcIikub24oXCJjbGlja1wiLCBcIi5zaG93LW1vcmVcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIHZhciAkc2VsZiA9ICQodGhpcyk7XHJcblxyXG4gICAgICAgICQuZ2V0KCQodGhpcykuZGF0YSgpLnVybCwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgJHNlbGYuY2xvc2VzdChcIi5jb21tZW50XCIpLmFwcGVuZChkYXRhKTtcclxuICAgICAgICAgICAgJHNlbGYuaGlkZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn0iXSwiZmlsZSI6ImNvbW1lbnQuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

//Use local CSS file as fallback if Bootstrap CDN fails
if ($('#bootstrap-fail-check').is(':visible') === true) {
    $('<link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css" />').prependTo('head');
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJjc3MtbG9hZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vVXNlIGxvY2FsIENTUyBmaWxlIGFzIGZhbGxiYWNrIGlmIEJvb3RzdHJhcCBDRE4gZmFpbHNcclxuaWYgKCQoJyNib290c3RyYXAtZmFpbC1jaGVjaycpLmlzKCc6dmlzaWJsZScpID09PSB0cnVlKSB7XHJcbiAgICAkKCc8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgaHJlZj1cImJvd2VyX2NvbXBvbmVudHMvYm9vdHN0cmFwL2Rpc3QvY3NzL2Jvb3RzdHJhcC5taW4uY3NzXCIgLz4nKS5wcmVwZW5kVG8oJ2hlYWQnKTtcclxufVxyXG4iXSwiZmlsZSI6ImNzcy1sb2FkZXIuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

function changeBindings($elemsToSearchIn) {
    var regex = /[_\[]\d+[\]_]/g;

    for (var i = 0; i < $elemsToSearchIn.length; i++) {
        changeAttributes($elemsToSearchIn.eq(i).find("input"), i);
        changeAttributes($elemsToSearchIn.eq(i).find("select"), i);
        changeAttributes($elemsToSearchIn.eq(i).find("textarea"), i);
        changeAttributes($elemsToSearchIn.eq(i).find("span.field-validation-valid"), i);
    }

    function changeAttributes($elemsToChange, parentIndex) {
        $elemsToChange.each(function () {
            if (typeof ($(this).attr("name")) !== "undefined") {
                if (!regex.test($(this).attr("name"))) {
                    $(this).attr("name", "[" + parentIndex + "]." + $(this).attr("name"));
                } else {
                    $(this).attr("name", $(this).attr("name").replace(regex, "[" + parentIndex + "]"));
                }
            }

            if (typeof ($(this).attr("id")) !== "undefined") {
                if (!regex.test($(this).attr("id"))) {
                    $(this).attr("id", "_" + parentIndex + "__" + $(this).attr("id"));
                } else {
                    $(this).attr("id", $(this).attr("id").replace(regex, "_" + parentIndex + "_"));
                }
            }

            if (typeof ($(this).attr("data-valmsg-for")) !== "undefined") {
                if (!regex.test($(this).attr("data-valmsg-for"))) {
                    $(this).attr("data-valmsg-for", "[" + parentIndex + "]." + $(this).attr("data-valmsg-for"));
                } else {
                    $(this).attr("data-valmsg-for", $(this).attr("data-valmsg-for").replace(regex, "[" + parentIndex + "]"));
                }
            }
        });
    };
}

function changeListBindings($elemsToSearchIn) {
    //Replaces the last numbers index in the list
    var listRegex = /\d+(?![\s\S]*[\d+])/g;

    for (var i = 0; i < $elemsToSearchIn.length; i++) {
        var $elemToSearchIn = $elemsToSearchIn.eq(i);

        changeAttributes($elemToSearchIn.find($("input.dynamic-list")));
        changeAttributes($elemToSearchIn.find($("span.field-validation-valid.dynamic-list")));
    }

    function changeAttributes($elemsToChange) {
        $elemsToChange.each(function (j) {
            if (typeof ($(this).attr("name")) !== "undefined") {
                $(this).attr("name", $(this).attr("name").replace(listRegex, j));
            }

            if (typeof ($(this).attr("id")) !== "undefined") {
                $(this).attr("id", $(this).attr("id").replace(listRegex, j));
            }

            if (typeof ($(this).attr("data-valmsg-for")) !== "undefined") {
                $(this).attr("data-valmsg-for", $(this).attr("data-valmsg-for").replace(listRegex, j));
            }
        });
    }
}

function hasValue(obj, key, value) {
    return obj.hasOwnProperty(key) && obj[key] === value;
}

function formAjax($form, options) {
    $.ajax({
        url: $form.data().url,
        method: $form.attr("method"),
        data: $form.serialize(),
        success: options.success,
        statusCode: {
            400: function (jqXrh) {
                $form.html(jqXrh.responseText);
            }
        }
    });
}

$(function () {
    $(document).on("change", "textarea.resize", function () { }).keydown(autoSize).keyup(autoSize);
});

function autoSize() {
    // Copy textarea contents; browser will calculate correct height of copy,
    // which will make overall container taller, which will make textarea taller.
    $("textarea.resize").each(function () {
        var text = $(this).val().replace(/\n/g, "<br/>");
        $(this).next(".text-copy").html(text);
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJoZWxwZXJzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGNoYW5nZUJpbmRpbmdzKCRlbGVtc1RvU2VhcmNoSW4pIHtcclxuICAgIHZhciByZWdleCA9IC9bX1xcW11cXGQrW1xcXV9dL2c7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkZWxlbXNUb1NlYXJjaEluLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY2hhbmdlQXR0cmlidXRlcygkZWxlbXNUb1NlYXJjaEluLmVxKGkpLmZpbmQoXCJpbnB1dFwiKSwgaSk7XHJcbiAgICAgICAgY2hhbmdlQXR0cmlidXRlcygkZWxlbXNUb1NlYXJjaEluLmVxKGkpLmZpbmQoXCJzZWxlY3RcIiksIGkpO1xyXG4gICAgICAgIGNoYW5nZUF0dHJpYnV0ZXMoJGVsZW1zVG9TZWFyY2hJbi5lcShpKS5maW5kKFwidGV4dGFyZWFcIiksIGkpO1xyXG4gICAgICAgIGNoYW5nZUF0dHJpYnV0ZXMoJGVsZW1zVG9TZWFyY2hJbi5lcShpKS5maW5kKFwic3Bhbi5maWVsZC12YWxpZGF0aW9uLXZhbGlkXCIpLCBpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjaGFuZ2VBdHRyaWJ1dGVzKCRlbGVtc1RvQ2hhbmdlLCBwYXJlbnRJbmRleCkge1xyXG4gICAgICAgICRlbGVtc1RvQ2hhbmdlLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mICgkKHRoaXMpLmF0dHIoXCJuYW1lXCIpKSAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KCQodGhpcykuYXR0cihcIm5hbWVcIikpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKFwibmFtZVwiLCBcIltcIiArIHBhcmVudEluZGV4ICsgXCJdLlwiICsgJCh0aGlzKS5hdHRyKFwibmFtZVwiKSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuYXR0cihcIm5hbWVcIiwgJCh0aGlzKS5hdHRyKFwibmFtZVwiKS5yZXBsYWNlKHJlZ2V4LCBcIltcIiArIHBhcmVudEluZGV4ICsgXCJdXCIpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiAoJCh0aGlzKS5hdHRyKFwiaWRcIikpICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlZ2V4LnRlc3QoJCh0aGlzKS5hdHRyKFwiaWRcIikpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKFwiaWRcIiwgXCJfXCIgKyBwYXJlbnRJbmRleCArIFwiX19cIiArICQodGhpcykuYXR0cihcImlkXCIpKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKFwiaWRcIiwgJCh0aGlzKS5hdHRyKFwiaWRcIikucmVwbGFjZShyZWdleCwgXCJfXCIgKyBwYXJlbnRJbmRleCArIFwiX1wiKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgKCQodGhpcykuYXR0cihcImRhdGEtdmFsbXNnLWZvclwiKSkgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdCgkKHRoaXMpLmF0dHIoXCJkYXRhLXZhbG1zZy1mb3JcIikpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKFwiZGF0YS12YWxtc2ctZm9yXCIsIFwiW1wiICsgcGFyZW50SW5kZXggKyBcIl0uXCIgKyAkKHRoaXMpLmF0dHIoXCJkYXRhLXZhbG1zZy1mb3JcIikpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoXCJkYXRhLXZhbG1zZy1mb3JcIiwgJCh0aGlzKS5hdHRyKFwiZGF0YS12YWxtc2ctZm9yXCIpLnJlcGxhY2UocmVnZXgsIFwiW1wiICsgcGFyZW50SW5kZXggKyBcIl1cIikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGFuZ2VMaXN0QmluZGluZ3MoJGVsZW1zVG9TZWFyY2hJbikge1xyXG4gICAgLy9SZXBsYWNlcyB0aGUgbGFzdCBudW1iZXJzIGluZGV4IGluIHRoZSBsaXN0XHJcbiAgICB2YXIgbGlzdFJlZ2V4ID0gL1xcZCsoPyFbXFxzXFxTXSpbXFxkK10pL2c7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkZWxlbXNUb1NlYXJjaEluLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyICRlbGVtVG9TZWFyY2hJbiA9ICRlbGVtc1RvU2VhcmNoSW4uZXEoaSk7XHJcblxyXG4gICAgICAgIGNoYW5nZUF0dHJpYnV0ZXMoJGVsZW1Ub1NlYXJjaEluLmZpbmQoJChcImlucHV0LmR5bmFtaWMtbGlzdFwiKSkpO1xyXG4gICAgICAgIGNoYW5nZUF0dHJpYnV0ZXMoJGVsZW1Ub1NlYXJjaEluLmZpbmQoJChcInNwYW4uZmllbGQtdmFsaWRhdGlvbi12YWxpZC5keW5hbWljLWxpc3RcIikpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjaGFuZ2VBdHRyaWJ1dGVzKCRlbGVtc1RvQ2hhbmdlKSB7XHJcbiAgICAgICAgJGVsZW1zVG9DaGFuZ2UuZWFjaChmdW5jdGlvbiAoaikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mICgkKHRoaXMpLmF0dHIoXCJuYW1lXCIpKSAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKFwibmFtZVwiLCAkKHRoaXMpLmF0dHIoXCJuYW1lXCIpLnJlcGxhY2UobGlzdFJlZ2V4LCBqKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgKCQodGhpcykuYXR0cihcImlkXCIpKSAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKFwiaWRcIiwgJCh0aGlzKS5hdHRyKFwiaWRcIikucmVwbGFjZShsaXN0UmVnZXgsIGopKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiAoJCh0aGlzKS5hdHRyKFwiZGF0YS12YWxtc2ctZm9yXCIpKSAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKFwiZGF0YS12YWxtc2ctZm9yXCIsICQodGhpcykuYXR0cihcImRhdGEtdmFsbXNnLWZvclwiKS5yZXBsYWNlKGxpc3RSZWdleCwgaikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhc1ZhbHVlKG9iaiwga2V5LCB2YWx1ZSkge1xyXG4gICAgcmV0dXJuIG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIG9ialtrZXldID09PSB2YWx1ZTtcclxufVxyXG5cclxuZnVuY3Rpb24gZm9ybUFqYXgoJGZvcm0sIG9wdGlvbnMpIHtcclxuICAgICQuYWpheCh7XHJcbiAgICAgICAgdXJsOiAkZm9ybS5kYXRhKCkudXJsLFxyXG4gICAgICAgIG1ldGhvZDogJGZvcm0uYXR0cihcIm1ldGhvZFwiKSxcclxuICAgICAgICBkYXRhOiAkZm9ybS5zZXJpYWxpemUoKSxcclxuICAgICAgICBzdWNjZXNzOiBvcHRpb25zLnN1Y2Nlc3MsXHJcbiAgICAgICAgc3RhdHVzQ29kZToge1xyXG4gICAgICAgICAgICA0MDA6IGZ1bmN0aW9uIChqcVhyaCkge1xyXG4gICAgICAgICAgICAgICAgJGZvcm0uaHRtbChqcVhyaC5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgJChkb2N1bWVudCkub24oXCJjaGFuZ2VcIiwgXCJ0ZXh0YXJlYS5yZXNpemVcIiwgZnVuY3Rpb24gKCkgeyB9KS5rZXlkb3duKGF1dG9TaXplKS5rZXl1cChhdXRvU2l6ZSk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gYXV0b1NpemUoKSB7XHJcbiAgICAvLyBDb3B5IHRleHRhcmVhIGNvbnRlbnRzOyBicm93c2VyIHdpbGwgY2FsY3VsYXRlIGNvcnJlY3QgaGVpZ2h0IG9mIGNvcHksXHJcbiAgICAvLyB3aGljaCB3aWxsIG1ha2Ugb3ZlcmFsbCBjb250YWluZXIgdGFsbGVyLCB3aGljaCB3aWxsIG1ha2UgdGV4dGFyZWEgdGFsbGVyLlxyXG4gICAgJChcInRleHRhcmVhLnJlc2l6ZVwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdGV4dCA9ICQodGhpcykudmFsKCkucmVwbGFjZSgvXFxuL2csIFwiPGJyLz5cIik7XHJcbiAgICAgICAgJCh0aGlzKS5uZXh0KFwiLnRleHQtY29weVwiKS5odG1sKHRleHQpO1xyXG4gICAgfSk7XHJcbn0iXSwiZmlsZSI6ImhlbHBlcnMuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

var manualStateChange = true;

$(function () {
    var history = window.History;
    var state;

    if (history.enabled) {
        state = history.getState();
        // set initial state to first page that was loaded
        history.pushState({ urlPath: window.location.pathname }, state.title, state.urlPath);

    } else {
        return false;
    }

    History.Adapter.bind(window, "statechange", function () {
        if (manualStateChange === true) {
            state = History.getState();

            $.ajax({
                url: window.location.href,
                method: "get",
                success: function (data) {
                    $("#body-content").html(data);

                    //if (!$(footerPlayer.cssSelector.jPlayer).data().jPlayer.status.paused) {
                    //    var $audioWrapper = $(".audio-wrapper[data-audio-id=" + footerPlayer.playlist[footerPlayer.current].id + "]");
                    //    $audioWrapper.find(".fa-play").switchClass("fa-play", "fa-pause", 0).show();
                    //}
                }
            });

            History.log(state);
        }

        manualStateChange = true;
    });
});

function updateHistory(path) {
    clearPopup();

    //if (!$(footerPlayer.cssSelector.jPlayer).data().jPlayer.status.paused) {
    //    var $audioWrapper = $(".audio-wrapper[data-audio-id=" + footerPlayer.playlist[footerPlayer.current].id + "]");
    //    $audioWrapper.find(".fa-play").switchClass("fa-play", "fa-pause", 0).show();
    //}

    pushState(path);
};

function pushState(target) {
    manualStateChange = false;
    History.pushState(null, $("input#Title").val(), target);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJoaXN0b3J5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBtYW51YWxTdGF0ZUNoYW5nZSA9IHRydWU7XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBoaXN0b3J5ID0gd2luZG93Lkhpc3Rvcnk7XHJcbiAgICB2YXIgc3RhdGU7XHJcblxyXG4gICAgaWYgKGhpc3RvcnkuZW5hYmxlZCkge1xyXG4gICAgICAgIHN0YXRlID0gaGlzdG9yeS5nZXRTdGF0ZSgpO1xyXG4gICAgICAgIC8vIHNldCBpbml0aWFsIHN0YXRlIHRvIGZpcnN0IHBhZ2UgdGhhdCB3YXMgbG9hZGVkXHJcbiAgICAgICAgaGlzdG9yeS5wdXNoU3RhdGUoeyB1cmxQYXRoOiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgfSwgc3RhdGUudGl0bGUsIHN0YXRlLnVybFBhdGgpO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIEhpc3RvcnkuQWRhcHRlci5iaW5kKHdpbmRvdywgXCJzdGF0ZWNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKG1hbnVhbFN0YXRlQ2hhbmdlID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHN0YXRlID0gSGlzdG9yeS5nZXRTdGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLmhyZWYsXHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiZ2V0XCIsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjYm9keS1jb250ZW50XCIpLmh0bWwoZGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgKCEkKGZvb3RlclBsYXllci5jc3NTZWxlY3Rvci5qUGxheWVyKS5kYXRhKCkualBsYXllci5zdGF0dXMucGF1c2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgdmFyICRhdWRpb1dyYXBwZXIgPSAkKFwiLmF1ZGlvLXdyYXBwZXJbZGF0YS1hdWRpby1pZD1cIiArIGZvb3RlclBsYXllci5wbGF5bGlzdFtmb290ZXJQbGF5ZXIuY3VycmVudF0uaWQgKyBcIl1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgJGF1ZGlvV3JhcHBlci5maW5kKFwiLmZhLXBsYXlcIikuc3dpdGNoQ2xhc3MoXCJmYS1wbGF5XCIsIFwiZmEtcGF1c2VcIiwgMCkuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIEhpc3RvcnkubG9nKHN0YXRlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG1hbnVhbFN0YXRlQ2hhbmdlID0gdHJ1ZTtcclxuICAgIH0pO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZUhpc3RvcnkocGF0aCkge1xyXG4gICAgY2xlYXJQb3B1cCgpO1xyXG5cclxuICAgIC8vaWYgKCEkKGZvb3RlclBsYXllci5jc3NTZWxlY3Rvci5qUGxheWVyKS5kYXRhKCkualBsYXllci5zdGF0dXMucGF1c2VkKSB7XHJcbiAgICAvLyAgICB2YXIgJGF1ZGlvV3JhcHBlciA9ICQoXCIuYXVkaW8td3JhcHBlcltkYXRhLWF1ZGlvLWlkPVwiICsgZm9vdGVyUGxheWVyLnBsYXlsaXN0W2Zvb3RlclBsYXllci5jdXJyZW50XS5pZCArIFwiXVwiKTtcclxuICAgIC8vICAgICRhdWRpb1dyYXBwZXIuZmluZChcIi5mYS1wbGF5XCIpLnN3aXRjaENsYXNzKFwiZmEtcGxheVwiLCBcImZhLXBhdXNlXCIsIDApLnNob3coKTtcclxuICAgIC8vfVxyXG5cclxuICAgIHB1c2hTdGF0ZShwYXRoKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIHB1c2hTdGF0ZSh0YXJnZXQpIHtcclxuICAgIG1hbnVhbFN0YXRlQ2hhbmdlID0gZmFsc2U7XHJcbiAgICBIaXN0b3J5LnB1c2hTdGF0ZShudWxsLCAkKFwiaW5wdXQjVGl0bGVcIikudmFsKCksIHRhcmdldCk7XHJcbn0iXSwiZmlsZSI6Imhpc3RvcnkuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

var pageNumber = 2;
var noMoreData = false;
var inProgress = false;

$("#comments-sidebar").scroll(function () {
    var scrollTop = $("#comments-sidebar").scrollTop();
    var scrollHeight = $("#comments-sidebar").prop("scrollHeight");
    var innerHeight = $("#comments-sidebar").innerHeight();

    if ((scrollTop + innerHeight >= scrollHeight) && !noMoreData && !inProgress) {
        inProgress = true;          
        $.post($("#comments").data().url, { audioId: footerPlayer.playlist[footerPlayer.current].id, "pageNumber": pageNumber },
        function (data) {
            debugger 
            pageNumber = pageNumber + 1;
            noMoreData = data.NoMoreData;
            $("#comments").append(data.HtmlString);
            inProgress = false;
        });
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJpbmZpbml0ZS1zY3JvbGwuanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHBhZ2VOdW1iZXIgPSAyO1xyXG52YXIgbm9Nb3JlRGF0YSA9IGZhbHNlO1xyXG52YXIgaW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG5cclxuJChcIiNjb21tZW50cy1zaWRlYmFyXCIpLnNjcm9sbChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2Nyb2xsVG9wID0gJChcIiNjb21tZW50cy1zaWRlYmFyXCIpLnNjcm9sbFRvcCgpO1xyXG4gICAgdmFyIHNjcm9sbEhlaWdodCA9ICQoXCIjY29tbWVudHMtc2lkZWJhclwiKS5wcm9wKFwic2Nyb2xsSGVpZ2h0XCIpO1xyXG4gICAgdmFyIGlubmVySGVpZ2h0ID0gJChcIiNjb21tZW50cy1zaWRlYmFyXCIpLmlubmVySGVpZ2h0KCk7XHJcblxyXG4gICAgaWYgKChzY3JvbGxUb3AgKyBpbm5lckhlaWdodCA+PSBzY3JvbGxIZWlnaHQpICYmICFub01vcmVEYXRhICYmICFpblByb2dyZXNzKSB7XHJcbiAgICAgICAgaW5Qcm9ncmVzcyA9IHRydWU7ICAgICAgICAgIFxyXG4gICAgICAgICQucG9zdCgkKFwiI2NvbW1lbnRzXCIpLmRhdGEoKS51cmwsIHsgYXVkaW9JZDogZm9vdGVyUGxheWVyLnBsYXlsaXN0W2Zvb3RlclBsYXllci5jdXJyZW50XS5pZCwgXCJwYWdlTnVtYmVyXCI6IHBhZ2VOdW1iZXIgfSxcclxuICAgICAgICBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICBkZWJ1Z2dlciBcclxuICAgICAgICAgICAgcGFnZU51bWJlciA9IHBhZ2VOdW1iZXIgKyAxO1xyXG4gICAgICAgICAgICBub01vcmVEYXRhID0gZGF0YS5Ob01vcmVEYXRhO1xyXG4gICAgICAgICAgICAkKFwiI2NvbW1lbnRzXCIpLmFwcGVuZChkYXRhLkh0bWxTdHJpbmcpO1xyXG4gICAgICAgICAgICBpblByb2dyZXNzID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0pOyJdLCJmaWxlIjoiaW5maW5pdGUtc2Nyb2xsLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

Dropzone.autoDiscover = false;
var footerPlayer;

$(function () {
    //$(document).ajaxError(function (e, xhr, settings, exception) {
    //    e.stopPropagation();

    //    if (xhr.status == 403) {
    //        var response = $.parseJSON(xhr.responseText);
    //        location = response.logInUrl;
    //    }
    //    else {
    //        location = $("#InternalServerError").val();
    //    }
    //});

    $("#logout-form").find("a").click(function () {
        $(this).closest("#logout-form").submit();
    });

    $("[data-toggle=\"tooltip\"]").tooltip();

    $(".misc-links").mouseenter(function () {
        $(this).children("ul.menu").fadeIn("fast");
    });

    $(".misc-links").mouseleave(function () {
        if (!($(".misc-links").is(":hover")) &&
            !($(".misc-links > .menu").is(":hover"))) {
            $(".misc-links > .menu").fadeOut("fast");
        }
    });

    $(".user-links").mouseenter(function () {
        $(this).children("ul.menu").fadeIn("fast");
    });

    $(".user-links, .user-links + .menu").mouseleave(function () {
        if (!($(".user-links").is(":hover")) &&
            !($(".user-links > .menu").is(":hover"))) {
            $(".user-links > .menu").fadeOut("fast");
        }
    });

    $(".jp-playlist-options .fa-ellipsis-h").click(function () {
        $(".jp-playlist").fadeToggle();
        $(this).toggleClass("clicked-button");
    });

    $(".jp-playlist-options .fa-comment").click(function () {
        $("#comments-sidebar").fadeToggle();
        $(this).toggleClass("clicked-button");
    });

    $(".jp-playlist").on("click", ".jp-playlist-item-remove", function () {
        if (footerPlayer.current === $(".jp-playlist-item-remove").index(this)) {
            var $audioWrapper = $(".audio-wrapper[data-audio-id=" + footerPlayer.playlist[footerPlayer.current].id + "]");

            $audioWrapper.find(".fa-pause").switchClass("fa-pause", "fa-play", 0).hide();
        }
    });

    $("#comments-sidebar").on("click", ".fa-arrow-up", function () {
        rate($(this), $(this).siblings(".fa-arrow-down"), $(this).data().url);
    });

    $("#comments-sidebar").on("click", ".fa-arrow-down", function () {
        rate($(this), $(this).siblings(".fa-arrow-up"), $(this).data().url);
    });

    ajaxLinkRegister(".nav-link.logo");
    ajaxLinkRegister(".nav-link.audio", initFrontpageAudio);
    ajaxLinkRegister(".nav-link.live-stream", initLiveStream);
    ajaxLinkRegister(".nav-link.upload", initUploadAudio);
    ajaxLinkRegister(".nav-link.profile", initProfile);
    ajaxLinkRegister(".nav-link#login-link");
    ajaxLinkRegister(".nav-link#register-link");
    ajaxLinkRegister(".nav-link.about-us");
    ajaxLinkRegister(".nav-link.privacy");
    ajaxLinkRegister(".nav-link.copyright");
    ajaxLinkRegister(".nav-link.terms-of-use");

    function ajaxLinkRegister(selector, initFunction) {
        $(selector).click(function (e) {
            e.preventDefault();

            $.get($(this).attr("href"), function (data) {
                $("#body-content").html(data);
                updateHistory(e.currentTarget.pathname);

                if (typeof (initFunction) !== "undefined") {
                    initFunction();
                }
            });
        });
    }
});

function initFooterPlayer(playlistData) {
    window.footerPlayer = new jPlayerPlaylistExtended({
        jPlayer: "#jquery_jplayer_footer_player",
        cssSelectorAncestor: "#jp_container_footer_player",
        cssPlaylistOptionsSelector: "#jp_container_playlist"
    }, playlistData, {
        playlistOptions: {
            enableRemoveControls: true,
            shuffleOnLoop: true,
            removeTime: 0,
            displayTime: 0,
            addTime: 0,
            shuffleTime: 0,
            autoPlay: true
        },
        swfPath: "~Scripts/Jplayer/jquery.jplayer.swf",
        useStateClassSkin: true,
        keyEnabled: true,
        muted: true,
        loop: "off",
        preload: "metadata",
        ready: function () {
            changeShuffleIcon(footerPlayer);
            changeRepeatIcon(footerPlayer);
            changeVolumeIcon($("#jquery_jplayer_footer_player").data().jPlayer);

            $(".jp-type-footer .jp-shuffle").click(function () {
                changeShuffleIcon(footerPlayer);
            });

            $(".jp-type-footer .jp-repeat").click(function () {
                changeRepeatIcon(footerPlayer);
            });

            $(".jp-playlist-options .fa-ellipsis-h").click();
            $(".jp-playlist-options .fa-comment").click();
            $("#jp_container_footerPlayer, footer").slideDown(400);
        },
        play: function () {
            var $audioWrapper = $(".audio-wrapper[data-audio-id=" + footerPlayer.playlist[footerPlayer.current].id + "]");

            $(".audio-wrapper").find(".fa-pause").switchClass("fa-pause", "fa-play", 0).hide();
            $(".audio-wrapper").find(".poster-wrapper").not(".hovered").find(".fa-play").hide();

            $audioWrapper.find(".fa-play").switchClass("fa-play", "fa-pause", 0).show();
        },
        pause: function () {
            var $audioWrapper = $(".audio-wrapper[data-audio-id=" + footerPlayer.playlist[footerPlayer.current].id + "]");

            $audioWrapper.find(".fa-pause").switchClass("fa-pause", "fa-play", 0);
        },
        error: function (event) {
            console.log(event.jPlayer.error);
            console.log(event.jPlayer.error.type);
        },
        loadstart: function () {
            $("#comments-sidebar").html($("script[type='text/loading-template']").html());
            var $loading = $("#comments-sidebar").find(".loading");

            $.ajax({
                url: footerPlayer.playlist[footerPlayer.current].comment,
                method: "post",
                beforeSend: function () {
                    $loading.show();
                },
                complete: function () {
                    $loading.hide();
                },
                success: function (data) {
                    $("#comments-sidebar").html(data);
                    commentsInit(footerPlayer.playlist[footerPlayer.current].id);
                }
            });
        },
        volumechange: function () {
            changeVolumeIcon($("#jquery_jplayer_footer_player").data().jPlayer);
        }
    });
}

function changePlayOrInitPlayer(jPlayerPlaylist, url, audioId, initjPlayerPlaylistFunc) {
    //There is no jPlayer instansiated
    if (typeof (jPlayerPlaylist) === "undefined") {
        $.ajax({
            url: url,
            method: "post",
            success: function (data) {
                initjPlayerPlaylistFunc(data);
            }
        });
        return;
    }

    //If the audio the user clicked is already in the playlist then play it, else change playlists
    var current = $.grep(jPlayerPlaylist.playlist, function (o, i) {
        //Same audio
        if (jPlayerPlaylist.current === i && o.id === audioId) {
            $(jPlayerPlaylist.cssSelector.jPlayer).jPlayer("play");
            return o;
        }
            //Different audio
        else if (o.id === audioId) {
            jPlayerPlaylist.play(i);
            return o;
        }
    });

    //Audio that the user clicked on is not in the playlist
    if (!current.length) {
        $.ajax({
            url: url,
            method: "post",
            success: function (data) {
                jPlayerPlaylist.setPlaylist(data);
            }
        });
    }
}

function changeShuffleIcon(jPlayerPlaylist) {
    var $shuffled = $(jPlayerPlaylist.cssSelector.cssSelectorAncestor).find(".jp-shuffle .fa-random");

    if (jPlayerPlaylist.shuffled) {
        $shuffled.addClass("clicked-button");
    } else {
        $shuffled.removeClass("clicked-button");
    }
}

function changeRepeatIcon(jPlayerPlaylist) {
    var $repeat = $(jPlayerPlaylist.cssSelector.cssSelectorAncestor).find(".jp-repeat .fa-repeat");
    var $playlistBars = $(jPlayerPlaylist.cssSelector.cssSelectorAncestor).find(".jp-repeat .fa-bars");

    if (jPlayerPlaylist.loop === "loop") {
        $repeat.addClass("clicked-button");
    } else if (jPlayerPlaylist.loop === "loop-playlist") {
        $playlistBars.show();
    }
    else {
        $repeat.removeClass("clicked-button");
        $playlistBars.hide();
    }
}

function changeVolumeIcon(jPlayer) {
    var $mute = $(jPlayer.ancestorJq.selector).find(".jp-mute").children();
    var volumeValue = jPlayer.options.volume;
    var muted = jPlayer.options.muted;

    if (muted || volumeValue <= 0) {
        $mute.removeClass();
        $mute.addClass("fa fa-volume-off");
    } else if (volumeValue < 0.5) {
        $mute.removeClass();
        $mute.addClass("fa fa-volume-down");
    } else {
        $mute.removeClass();
        $mute.addClass("fa fa-volume-up");
    }
}

function calcRatingsBar(ratingsContainer) {
    var $likeBar = $(ratingsContainer).find(".like-bar");
    var $dislikeBar = $(ratingsContainer).find(".dislike-bar");
    //   var $arrowUp = $(object).find(".fa-arrow-up");
    //   var $arrowDown = $(object).find(".fa-arrow-down");

    var likes = $likeBar.data().likes;
    var dislikes = $dislikeBar.data().dislikes;
    var likePercent = likes / (likes + dislikes) * 100;
    var dislikePercent = dislikes / (likes + dislikes) * 100;

    //Dividing by 0 equals NaN, so convert to 0 instead
    if (isNaN(likePercent)) {
        likePercent = 0;

        //Neither have been voted on, so show dislikeBar instead by setting 
        //the percent to 100
        if (isNaN(dislikePercent)) {
            dislikePercent = 100;
        }
    }

    ////If the user has liked the fileStream
    //if ($arrowUp.data().rating === 1) {
    //    $(this).addClass("clicked");
    //} else {
    //    $(this).removeClass("clicked");
    //}

    //if ($arrowDown.data().rating === -1) {
    //    $(this).addClass("clicked");
    //} else {
    //    $(this).removeClass("clicked");
    //}

    $likeBar.css("width", likePercent + "%");
    $dislikeBar.css("width", dislikePercent + "%");

    //prepend it so we don't overwrite the fa icon
    $(ratingsContainer).prev(".like-percentage").prepend(likePercent + "%");
}

function rate($elem, $otherElem, url) {
    $.ajax({
        url: url,
        method: "post",
        dataType: "json",
        success: function (data) {
            $elem.siblings(".likes").html(data.Likes);
            $elem.siblings(".dislikes").html(data.Dislikes);

            if ($elem.hasClass("clicked")) {
                //User has already rated, so set color to default
                $elem.removeClass("clicked");
            } else {
                //Already rated, so change rating colour to default
                if ($otherElem.hasClass("clicked"))
                    $otherElem.removeClass("clicked");

                //User has not liked, so set colour to new colour
                $elem.addClass("clicked");
            }
        }
    });
}

function initUnobValidation() {
    $("form").each(function () {
        $(this).removeData("validator");
        $(this).removeData("unobtrusiveValidation");
        $.validator.unobtrusive.parse(this);
        $.validator.setDefaults({ ignore: null });
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJsYXlvdXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiRHJvcHpvbmUuYXV0b0Rpc2NvdmVyID0gZmFsc2U7XHJcbnZhciBmb290ZXJQbGF5ZXI7XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIC8vJChkb2N1bWVudCkuYWpheEVycm9yKGZ1bmN0aW9uIChlLCB4aHIsIHNldHRpbmdzLCBleGNlcHRpb24pIHtcclxuICAgIC8vICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgLy8gICAgaWYgKHhoci5zdGF0dXMgPT0gNDAzKSB7XHJcbiAgICAvLyAgICAgICAgdmFyIHJlc3BvbnNlID0gJC5wYXJzZUpTT04oeGhyLnJlc3BvbnNlVGV4dCk7XHJcbiAgICAvLyAgICAgICAgbG9jYXRpb24gPSByZXNwb25zZS5sb2dJblVybDtcclxuICAgIC8vICAgIH1cclxuICAgIC8vICAgIGVsc2Uge1xyXG4gICAgLy8gICAgICAgIGxvY2F0aW9uID0gJChcIiNJbnRlcm5hbFNlcnZlckVycm9yXCIpLnZhbCgpO1xyXG4gICAgLy8gICAgfVxyXG4gICAgLy99KTtcclxuXHJcbiAgICAkKFwiI2xvZ291dC1mb3JtXCIpLmZpbmQoXCJhXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoXCIjbG9nb3V0LWZvcm1cIikuc3VibWl0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKFwiW2RhdGEtdG9nZ2xlPVxcXCJ0b29sdGlwXFxcIl1cIikudG9vbHRpcCgpO1xyXG5cclxuICAgICQoXCIubWlzYy1saW5rc1wiKS5tb3VzZWVudGVyKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKHRoaXMpLmNoaWxkcmVuKFwidWwubWVudVwiKS5mYWRlSW4oXCJmYXN0XCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIi5taXNjLWxpbmtzXCIpLm1vdXNlbGVhdmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghKCQoXCIubWlzYy1saW5rc1wiKS5pcyhcIjpob3ZlclwiKSkgJiZcclxuICAgICAgICAgICAgISgkKFwiLm1pc2MtbGlua3MgPiAubWVudVwiKS5pcyhcIjpob3ZlclwiKSkpIHtcclxuICAgICAgICAgICAgJChcIi5taXNjLWxpbmtzID4gLm1lbnVcIikuZmFkZU91dChcImZhc3RcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIi51c2VyLWxpbmtzXCIpLm1vdXNlZW50ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykuY2hpbGRyZW4oXCJ1bC5tZW51XCIpLmZhZGVJbihcImZhc3RcIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKFwiLnVzZXItbGlua3MsIC51c2VyLWxpbmtzICsgLm1lbnVcIikubW91c2VsZWF2ZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCEoJChcIi51c2VyLWxpbmtzXCIpLmlzKFwiOmhvdmVyXCIpKSAmJlxyXG4gICAgICAgICAgICAhKCQoXCIudXNlci1saW5rcyA+IC5tZW51XCIpLmlzKFwiOmhvdmVyXCIpKSkge1xyXG4gICAgICAgICAgICAkKFwiLnVzZXItbGlua3MgPiAubWVudVwiKS5mYWRlT3V0KFwiZmFzdFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKFwiLmpwLXBsYXlsaXN0LW9wdGlvbnMgLmZhLWVsbGlwc2lzLWhcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoXCIuanAtcGxheWxpc3RcIikuZmFkZVRvZ2dsZSgpO1xyXG4gICAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoXCJjbGlja2VkLWJ1dHRvblwiKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoXCIuanAtcGxheWxpc3Qtb3B0aW9ucyAuZmEtY29tbWVudFwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJChcIiNjb21tZW50cy1zaWRlYmFyXCIpLmZhZGVUb2dnbGUoKTtcclxuICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKFwiY2xpY2tlZC1idXR0b25cIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKFwiLmpwLXBsYXlsaXN0XCIpLm9uKFwiY2xpY2tcIiwgXCIuanAtcGxheWxpc3QtaXRlbS1yZW1vdmVcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChmb290ZXJQbGF5ZXIuY3VycmVudCA9PT0gJChcIi5qcC1wbGF5bGlzdC1pdGVtLXJlbW92ZVwiKS5pbmRleCh0aGlzKSkge1xyXG4gICAgICAgICAgICB2YXIgJGF1ZGlvV3JhcHBlciA9ICQoXCIuYXVkaW8td3JhcHBlcltkYXRhLWF1ZGlvLWlkPVwiICsgZm9vdGVyUGxheWVyLnBsYXlsaXN0W2Zvb3RlclBsYXllci5jdXJyZW50XS5pZCArIFwiXVwiKTtcclxuXHJcbiAgICAgICAgICAgICRhdWRpb1dyYXBwZXIuZmluZChcIi5mYS1wYXVzZVwiKS5zd2l0Y2hDbGFzcyhcImZhLXBhdXNlXCIsIFwiZmEtcGxheVwiLCAwKS5oaWRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIiNjb21tZW50cy1zaWRlYmFyXCIpLm9uKFwiY2xpY2tcIiwgXCIuZmEtYXJyb3ctdXBcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJhdGUoJCh0aGlzKSwgJCh0aGlzKS5zaWJsaW5ncyhcIi5mYS1hcnJvdy1kb3duXCIpLCAkKHRoaXMpLmRhdGEoKS51cmwpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIiNjb21tZW50cy1zaWRlYmFyXCIpLm9uKFwiY2xpY2tcIiwgXCIuZmEtYXJyb3ctZG93blwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmF0ZSgkKHRoaXMpLCAkKHRoaXMpLnNpYmxpbmdzKFwiLmZhLWFycm93LXVwXCIpLCAkKHRoaXMpLmRhdGEoKS51cmwpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYWpheExpbmtSZWdpc3RlcihcIi5uYXYtbGluay5sb2dvXCIpO1xyXG4gICAgYWpheExpbmtSZWdpc3RlcihcIi5uYXYtbGluay5hdWRpb1wiLCBpbml0RnJvbnRwYWdlQXVkaW8pO1xyXG4gICAgYWpheExpbmtSZWdpc3RlcihcIi5uYXYtbGluay5saXZlLXN0cmVhbVwiLCBpbml0TGl2ZVN0cmVhbSk7XHJcbiAgICBhamF4TGlua1JlZ2lzdGVyKFwiLm5hdi1saW5rLnVwbG9hZFwiLCBpbml0VXBsb2FkQXVkaW8pO1xyXG4gICAgYWpheExpbmtSZWdpc3RlcihcIi5uYXYtbGluay5wcm9maWxlXCIsIGluaXRQcm9maWxlKTtcclxuICAgIGFqYXhMaW5rUmVnaXN0ZXIoXCIubmF2LWxpbmsjbG9naW4tbGlua1wiKTtcclxuICAgIGFqYXhMaW5rUmVnaXN0ZXIoXCIubmF2LWxpbmsjcmVnaXN0ZXItbGlua1wiKTtcclxuICAgIGFqYXhMaW5rUmVnaXN0ZXIoXCIubmF2LWxpbmsuYWJvdXQtdXNcIik7XHJcbiAgICBhamF4TGlua1JlZ2lzdGVyKFwiLm5hdi1saW5rLnByaXZhY3lcIik7XHJcbiAgICBhamF4TGlua1JlZ2lzdGVyKFwiLm5hdi1saW5rLmNvcHlyaWdodFwiKTtcclxuICAgIGFqYXhMaW5rUmVnaXN0ZXIoXCIubmF2LWxpbmsudGVybXMtb2YtdXNlXCIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFqYXhMaW5rUmVnaXN0ZXIoc2VsZWN0b3IsIGluaXRGdW5jdGlvbikge1xyXG4gICAgICAgICQoc2VsZWN0b3IpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICQuZ2V0KCQodGhpcykuYXR0cihcImhyZWZcIiksIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiI2JvZHktY29udGVudFwiKS5odG1sKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlSGlzdG9yeShlLmN1cnJlbnRUYXJnZXQucGF0aG5hbWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKGluaXRGdW5jdGlvbikgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbml0RnVuY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gaW5pdEZvb3RlclBsYXllcihwbGF5bGlzdERhdGEpIHtcclxuICAgIHdpbmRvdy5mb290ZXJQbGF5ZXIgPSBuZXcgalBsYXllclBsYXlsaXN0RXh0ZW5kZWQoe1xyXG4gICAgICAgIGpQbGF5ZXI6IFwiI2pxdWVyeV9qcGxheWVyX2Zvb3Rlcl9wbGF5ZXJcIixcclxuICAgICAgICBjc3NTZWxlY3RvckFuY2VzdG9yOiBcIiNqcF9jb250YWluZXJfZm9vdGVyX3BsYXllclwiLFxyXG4gICAgICAgIGNzc1BsYXlsaXN0T3B0aW9uc1NlbGVjdG9yOiBcIiNqcF9jb250YWluZXJfcGxheWxpc3RcIlxyXG4gICAgfSwgcGxheWxpc3REYXRhLCB7XHJcbiAgICAgICAgcGxheWxpc3RPcHRpb25zOiB7XHJcbiAgICAgICAgICAgIGVuYWJsZVJlbW92ZUNvbnRyb2xzOiB0cnVlLFxyXG4gICAgICAgICAgICBzaHVmZmxlT25Mb29wOiB0cnVlLFxyXG4gICAgICAgICAgICByZW1vdmVUaW1lOiAwLFxyXG4gICAgICAgICAgICBkaXNwbGF5VGltZTogMCxcclxuICAgICAgICAgICAgYWRkVGltZTogMCxcclxuICAgICAgICAgICAgc2h1ZmZsZVRpbWU6IDAsXHJcbiAgICAgICAgICAgIGF1dG9QbGF5OiB0cnVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzd2ZQYXRoOiBcIn5TY3JpcHRzL0pwbGF5ZXIvanF1ZXJ5LmpwbGF5ZXIuc3dmXCIsXHJcbiAgICAgICAgdXNlU3RhdGVDbGFzc1NraW46IHRydWUsXHJcbiAgICAgICAga2V5RW5hYmxlZDogdHJ1ZSxcclxuICAgICAgICBtdXRlZDogdHJ1ZSxcclxuICAgICAgICBsb29wOiBcIm9mZlwiLFxyXG4gICAgICAgIHByZWxvYWQ6IFwibWV0YWRhdGFcIixcclxuICAgICAgICByZWFkeTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjaGFuZ2VTaHVmZmxlSWNvbihmb290ZXJQbGF5ZXIpO1xyXG4gICAgICAgICAgICBjaGFuZ2VSZXBlYXRJY29uKGZvb3RlclBsYXllcik7XHJcbiAgICAgICAgICAgIGNoYW5nZVZvbHVtZUljb24oJChcIiNqcXVlcnlfanBsYXllcl9mb290ZXJfcGxheWVyXCIpLmRhdGEoKS5qUGxheWVyKTtcclxuXHJcbiAgICAgICAgICAgICQoXCIuanAtdHlwZS1mb290ZXIgLmpwLXNodWZmbGVcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlU2h1ZmZsZUljb24oZm9vdGVyUGxheWVyKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkKFwiLmpwLXR5cGUtZm9vdGVyIC5qcC1yZXBlYXRcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlUmVwZWF0SWNvbihmb290ZXJQbGF5ZXIpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICQoXCIuanAtcGxheWxpc3Qtb3B0aW9ucyAuZmEtZWxsaXBzaXMtaFwiKS5jbGljaygpO1xyXG4gICAgICAgICAgICAkKFwiLmpwLXBsYXlsaXN0LW9wdGlvbnMgLmZhLWNvbW1lbnRcIikuY2xpY2soKTtcclxuICAgICAgICAgICAgJChcIiNqcF9jb250YWluZXJfZm9vdGVyUGxheWVyLCBmb290ZXJcIikuc2xpZGVEb3duKDQwMCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBwbGF5OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciAkYXVkaW9XcmFwcGVyID0gJChcIi5hdWRpby13cmFwcGVyW2RhdGEtYXVkaW8taWQ9XCIgKyBmb290ZXJQbGF5ZXIucGxheWxpc3RbZm9vdGVyUGxheWVyLmN1cnJlbnRdLmlkICsgXCJdXCIpO1xyXG5cclxuICAgICAgICAgICAgJChcIi5hdWRpby13cmFwcGVyXCIpLmZpbmQoXCIuZmEtcGF1c2VcIikuc3dpdGNoQ2xhc3MoXCJmYS1wYXVzZVwiLCBcImZhLXBsYXlcIiwgMCkuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKFwiLmF1ZGlvLXdyYXBwZXJcIikuZmluZChcIi5wb3N0ZXItd3JhcHBlclwiKS5ub3QoXCIuaG92ZXJlZFwiKS5maW5kKFwiLmZhLXBsYXlcIikuaGlkZSgpO1xyXG5cclxuICAgICAgICAgICAgJGF1ZGlvV3JhcHBlci5maW5kKFwiLmZhLXBsYXlcIikuc3dpdGNoQ2xhc3MoXCJmYS1wbGF5XCIsIFwiZmEtcGF1c2VcIiwgMCkuc2hvdygpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcGF1c2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyICRhdWRpb1dyYXBwZXIgPSAkKFwiLmF1ZGlvLXdyYXBwZXJbZGF0YS1hdWRpby1pZD1cIiArIGZvb3RlclBsYXllci5wbGF5bGlzdFtmb290ZXJQbGF5ZXIuY3VycmVudF0uaWQgKyBcIl1cIik7XHJcblxyXG4gICAgICAgICAgICAkYXVkaW9XcmFwcGVyLmZpbmQoXCIuZmEtcGF1c2VcIikuc3dpdGNoQ2xhc3MoXCJmYS1wYXVzZVwiLCBcImZhLXBsYXlcIiwgMCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50LmpQbGF5ZXIuZXJyb3IpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhldmVudC5qUGxheWVyLmVycm9yLnR5cGUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbG9hZHN0YXJ0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoXCIjY29tbWVudHMtc2lkZWJhclwiKS5odG1sKCQoXCJzY3JpcHRbdHlwZT0ndGV4dC9sb2FkaW5nLXRlbXBsYXRlJ11cIikuaHRtbCgpKTtcclxuICAgICAgICAgICAgdmFyICRsb2FkaW5nID0gJChcIiNjb21tZW50cy1zaWRlYmFyXCIpLmZpbmQoXCIubG9hZGluZ1wiKTtcclxuXHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6IGZvb3RlclBsYXllci5wbGF5bGlzdFtmb290ZXJQbGF5ZXIuY3VycmVudF0uY29tbWVudCxcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJwb3N0XCIsXHJcbiAgICAgICAgICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGxvYWRpbmcuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGxvYWRpbmcuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIiNjb21tZW50cy1zaWRlYmFyXCIpLmh0bWwoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudHNJbml0KGZvb3RlclBsYXllci5wbGF5bGlzdFtmb290ZXJQbGF5ZXIuY3VycmVudF0uaWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHZvbHVtZWNoYW5nZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjaGFuZ2VWb2x1bWVJY29uKCQoXCIjanF1ZXJ5X2pwbGF5ZXJfZm9vdGVyX3BsYXllclwiKS5kYXRhKCkualBsYXllcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoYW5nZVBsYXlPckluaXRQbGF5ZXIoalBsYXllclBsYXlsaXN0LCB1cmwsIGF1ZGlvSWQsIGluaXRqUGxheWVyUGxheWxpc3RGdW5jKSB7XHJcbiAgICAvL1RoZXJlIGlzIG5vIGpQbGF5ZXIgaW5zdGFuc2lhdGVkXHJcbiAgICBpZiAodHlwZW9mIChqUGxheWVyUGxheWxpc3QpID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiB1cmwsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJwb3N0XCIsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpbml0alBsYXllclBsYXlsaXN0RnVuYyhkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvL0lmIHRoZSBhdWRpbyB0aGUgdXNlciBjbGlja2VkIGlzIGFscmVhZHkgaW4gdGhlIHBsYXlsaXN0IHRoZW4gcGxheSBpdCwgZWxzZSBjaGFuZ2UgcGxheWxpc3RzXHJcbiAgICB2YXIgY3VycmVudCA9ICQuZ3JlcChqUGxheWVyUGxheWxpc3QucGxheWxpc3QsIGZ1bmN0aW9uIChvLCBpKSB7XHJcbiAgICAgICAgLy9TYW1lIGF1ZGlvXHJcbiAgICAgICAgaWYgKGpQbGF5ZXJQbGF5bGlzdC5jdXJyZW50ID09PSBpICYmIG8uaWQgPT09IGF1ZGlvSWQpIHtcclxuICAgICAgICAgICAgJChqUGxheWVyUGxheWxpc3QuY3NzU2VsZWN0b3IualBsYXllcikualBsYXllcihcInBsYXlcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBvO1xyXG4gICAgICAgIH1cclxuICAgICAgICAgICAgLy9EaWZmZXJlbnQgYXVkaW9cclxuICAgICAgICBlbHNlIGlmIChvLmlkID09PSBhdWRpb0lkKSB7XHJcbiAgICAgICAgICAgIGpQbGF5ZXJQbGF5bGlzdC5wbGF5KGkpO1xyXG4gICAgICAgICAgICByZXR1cm4gbztcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvL0F1ZGlvIHRoYXQgdGhlIHVzZXIgY2xpY2tlZCBvbiBpcyBub3QgaW4gdGhlIHBsYXlsaXN0XHJcbiAgICBpZiAoIWN1cnJlbnQubGVuZ3RoKSB7XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiB1cmwsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJwb3N0XCIsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBqUGxheWVyUGxheWxpc3Quc2V0UGxheWxpc3QoZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY2hhbmdlU2h1ZmZsZUljb24oalBsYXllclBsYXlsaXN0KSB7XHJcbiAgICB2YXIgJHNodWZmbGVkID0gJChqUGxheWVyUGxheWxpc3QuY3NzU2VsZWN0b3IuY3NzU2VsZWN0b3JBbmNlc3RvcikuZmluZChcIi5qcC1zaHVmZmxlIC5mYS1yYW5kb21cIik7XHJcblxyXG4gICAgaWYgKGpQbGF5ZXJQbGF5bGlzdC5zaHVmZmxlZCkge1xyXG4gICAgICAgICRzaHVmZmxlZC5hZGRDbGFzcyhcImNsaWNrZWQtYnV0dG9uXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkc2h1ZmZsZWQucmVtb3ZlQ2xhc3MoXCJjbGlja2VkLWJ1dHRvblwiKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY2hhbmdlUmVwZWF0SWNvbihqUGxheWVyUGxheWxpc3QpIHtcclxuICAgIHZhciAkcmVwZWF0ID0gJChqUGxheWVyUGxheWxpc3QuY3NzU2VsZWN0b3IuY3NzU2VsZWN0b3JBbmNlc3RvcikuZmluZChcIi5qcC1yZXBlYXQgLmZhLXJlcGVhdFwiKTtcclxuICAgIHZhciAkcGxheWxpc3RCYXJzID0gJChqUGxheWVyUGxheWxpc3QuY3NzU2VsZWN0b3IuY3NzU2VsZWN0b3JBbmNlc3RvcikuZmluZChcIi5qcC1yZXBlYXQgLmZhLWJhcnNcIik7XHJcblxyXG4gICAgaWYgKGpQbGF5ZXJQbGF5bGlzdC5sb29wID09PSBcImxvb3BcIikge1xyXG4gICAgICAgICRyZXBlYXQuYWRkQ2xhc3MoXCJjbGlja2VkLWJ1dHRvblwiKTtcclxuICAgIH0gZWxzZSBpZiAoalBsYXllclBsYXlsaXN0Lmxvb3AgPT09IFwibG9vcC1wbGF5bGlzdFwiKSB7XHJcbiAgICAgICAgJHBsYXlsaXN0QmFycy5zaG93KCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAkcmVwZWF0LnJlbW92ZUNsYXNzKFwiY2xpY2tlZC1idXR0b25cIik7XHJcbiAgICAgICAgJHBsYXlsaXN0QmFycy5oaWRlKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoYW5nZVZvbHVtZUljb24oalBsYXllcikge1xyXG4gICAgdmFyICRtdXRlID0gJChqUGxheWVyLmFuY2VzdG9ySnEuc2VsZWN0b3IpLmZpbmQoXCIuanAtbXV0ZVwiKS5jaGlsZHJlbigpO1xyXG4gICAgdmFyIHZvbHVtZVZhbHVlID0galBsYXllci5vcHRpb25zLnZvbHVtZTtcclxuICAgIHZhciBtdXRlZCA9IGpQbGF5ZXIub3B0aW9ucy5tdXRlZDtcclxuXHJcbiAgICBpZiAobXV0ZWQgfHwgdm9sdW1lVmFsdWUgPD0gMCkge1xyXG4gICAgICAgICRtdXRlLnJlbW92ZUNsYXNzKCk7XHJcbiAgICAgICAgJG11dGUuYWRkQ2xhc3MoXCJmYSBmYS12b2x1bWUtb2ZmXCIpO1xyXG4gICAgfSBlbHNlIGlmICh2b2x1bWVWYWx1ZSA8IDAuNSkge1xyXG4gICAgICAgICRtdXRlLnJlbW92ZUNsYXNzKCk7XHJcbiAgICAgICAgJG11dGUuYWRkQ2xhc3MoXCJmYSBmYS12b2x1bWUtZG93blwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJG11dGUucmVtb3ZlQ2xhc3MoKTtcclxuICAgICAgICAkbXV0ZS5hZGRDbGFzcyhcImZhIGZhLXZvbHVtZS11cFwiKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY2FsY1JhdGluZ3NCYXIocmF0aW5nc0NvbnRhaW5lcikge1xyXG4gICAgdmFyICRsaWtlQmFyID0gJChyYXRpbmdzQ29udGFpbmVyKS5maW5kKFwiLmxpa2UtYmFyXCIpO1xyXG4gICAgdmFyICRkaXNsaWtlQmFyID0gJChyYXRpbmdzQ29udGFpbmVyKS5maW5kKFwiLmRpc2xpa2UtYmFyXCIpO1xyXG4gICAgLy8gICB2YXIgJGFycm93VXAgPSAkKG9iamVjdCkuZmluZChcIi5mYS1hcnJvdy11cFwiKTtcclxuICAgIC8vICAgdmFyICRhcnJvd0Rvd24gPSAkKG9iamVjdCkuZmluZChcIi5mYS1hcnJvdy1kb3duXCIpO1xyXG5cclxuICAgIHZhciBsaWtlcyA9ICRsaWtlQmFyLmRhdGEoKS5saWtlcztcclxuICAgIHZhciBkaXNsaWtlcyA9ICRkaXNsaWtlQmFyLmRhdGEoKS5kaXNsaWtlcztcclxuICAgIHZhciBsaWtlUGVyY2VudCA9IGxpa2VzIC8gKGxpa2VzICsgZGlzbGlrZXMpICogMTAwO1xyXG4gICAgdmFyIGRpc2xpa2VQZXJjZW50ID0gZGlzbGlrZXMgLyAobGlrZXMgKyBkaXNsaWtlcykgKiAxMDA7XHJcblxyXG4gICAgLy9EaXZpZGluZyBieSAwIGVxdWFscyBOYU4sIHNvIGNvbnZlcnQgdG8gMCBpbnN0ZWFkXHJcbiAgICBpZiAoaXNOYU4obGlrZVBlcmNlbnQpKSB7XHJcbiAgICAgICAgbGlrZVBlcmNlbnQgPSAwO1xyXG5cclxuICAgICAgICAvL05laXRoZXIgaGF2ZSBiZWVuIHZvdGVkIG9uLCBzbyBzaG93IGRpc2xpa2VCYXIgaW5zdGVhZCBieSBzZXR0aW5nIFxyXG4gICAgICAgIC8vdGhlIHBlcmNlbnQgdG8gMTAwXHJcbiAgICAgICAgaWYgKGlzTmFOKGRpc2xpa2VQZXJjZW50KSkge1xyXG4gICAgICAgICAgICBkaXNsaWtlUGVyY2VudCA9IDEwMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8vL0lmIHRoZSB1c2VyIGhhcyBsaWtlZCB0aGUgZmlsZVN0cmVhbVxyXG4gICAgLy9pZiAoJGFycm93VXAuZGF0YSgpLnJhdGluZyA9PT0gMSkge1xyXG4gICAgLy8gICAgJCh0aGlzKS5hZGRDbGFzcyhcImNsaWNrZWRcIik7XHJcbiAgICAvL30gZWxzZSB7XHJcbiAgICAvLyAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwiY2xpY2tlZFwiKTtcclxuICAgIC8vfVxyXG5cclxuICAgIC8vaWYgKCRhcnJvd0Rvd24uZGF0YSgpLnJhdGluZyA9PT0gLTEpIHtcclxuICAgIC8vICAgICQodGhpcykuYWRkQ2xhc3MoXCJjbGlja2VkXCIpO1xyXG4gICAgLy99IGVsc2Uge1xyXG4gICAgLy8gICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcImNsaWNrZWRcIik7XHJcbiAgICAvL31cclxuXHJcbiAgICAkbGlrZUJhci5jc3MoXCJ3aWR0aFwiLCBsaWtlUGVyY2VudCArIFwiJVwiKTtcclxuICAgICRkaXNsaWtlQmFyLmNzcyhcIndpZHRoXCIsIGRpc2xpa2VQZXJjZW50ICsgXCIlXCIpO1xyXG5cclxuICAgIC8vcHJlcGVuZCBpdCBzbyB3ZSBkb24ndCBvdmVyd3JpdGUgdGhlIGZhIGljb25cclxuICAgICQocmF0aW5nc0NvbnRhaW5lcikucHJldihcIi5saWtlLXBlcmNlbnRhZ2VcIikucHJlcGVuZChsaWtlUGVyY2VudCArIFwiJVwiKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmF0ZSgkZWxlbSwgJG90aGVyRWxlbSwgdXJsKSB7XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgIG1ldGhvZDogXCJwb3N0XCIsXHJcbiAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICRlbGVtLnNpYmxpbmdzKFwiLmxpa2VzXCIpLmh0bWwoZGF0YS5MaWtlcyk7XHJcbiAgICAgICAgICAgICRlbGVtLnNpYmxpbmdzKFwiLmRpc2xpa2VzXCIpLmh0bWwoZGF0YS5EaXNsaWtlcyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoJGVsZW0uaGFzQ2xhc3MoXCJjbGlja2VkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAvL1VzZXIgaGFzIGFscmVhZHkgcmF0ZWQsIHNvIHNldCBjb2xvciB0byBkZWZhdWx0XHJcbiAgICAgICAgICAgICAgICAkZWxlbS5yZW1vdmVDbGFzcyhcImNsaWNrZWRcIik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL0FscmVhZHkgcmF0ZWQsIHNvIGNoYW5nZSByYXRpbmcgY29sb3VyIHRvIGRlZmF1bHRcclxuICAgICAgICAgICAgICAgIGlmICgkb3RoZXJFbGVtLmhhc0NsYXNzKFwiY2xpY2tlZFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAkb3RoZXJFbGVtLnJlbW92ZUNsYXNzKFwiY2xpY2tlZFwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL1VzZXIgaGFzIG5vdCBsaWtlZCwgc28gc2V0IGNvbG91ciB0byBuZXcgY29sb3VyXHJcbiAgICAgICAgICAgICAgICAkZWxlbS5hZGRDbGFzcyhcImNsaWNrZWRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdFVub2JWYWxpZGF0aW9uKCkge1xyXG4gICAgJChcImZvcm1cIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVEYXRhKFwidmFsaWRhdG9yXCIpO1xyXG4gICAgICAgICQodGhpcykucmVtb3ZlRGF0YShcInVub2J0cnVzaXZlVmFsaWRhdGlvblwiKTtcclxuICAgICAgICAkLnZhbGlkYXRvci51bm9idHJ1c2l2ZS5wYXJzZSh0aGlzKTtcclxuICAgICAgICAkLnZhbGlkYXRvci5zZXREZWZhdWx0cyh7IGlnbm9yZTogbnVsbCB9KTtcclxuICAgIH0pO1xyXG59Il0sImZpbGUiOiJsYXlvdXQuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

//$(document).one("click", ".jp-type-playlist .jp-fake-play, .jp-type-playlist .jp-playlist-item", function() {
//    jpPlayClick();
//});

//$(document).on("click", ".jp-next", function() {
//    if (window.$vars.currentPlayer == "jp-playlist")
//        myPlaylist.next(true);
//});
//$(document).on("click", ".jp-previous", function() {
//    if (window.$vars.currentPlayer == "jp-playlist")
//        myPlaylist.previous(true);
//});

//$(".jp-type-playlist .jp-seek-bar").click(function() {
//    window.playlistSeekClicked = true;
//});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJwbGF5bGlzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyQoZG9jdW1lbnQpLm9uZShcImNsaWNrXCIsIFwiLmpwLXR5cGUtcGxheWxpc3QgLmpwLWZha2UtcGxheSwgLmpwLXR5cGUtcGxheWxpc3QgLmpwLXBsYXlsaXN0LWl0ZW1cIiwgZnVuY3Rpb24oKSB7XHJcbi8vICAgIGpwUGxheUNsaWNrKCk7XHJcbi8vfSk7XHJcblxyXG4vLyQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIuanAtbmV4dFwiLCBmdW5jdGlvbigpIHtcclxuLy8gICAgaWYgKHdpbmRvdy4kdmFycy5jdXJyZW50UGxheWVyID09IFwianAtcGxheWxpc3RcIilcclxuLy8gICAgICAgIG15UGxheWxpc3QubmV4dCh0cnVlKTtcclxuLy99KTtcclxuLy8kKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLmpwLXByZXZpb3VzXCIsIGZ1bmN0aW9uKCkge1xyXG4vLyAgICBpZiAod2luZG93LiR2YXJzLmN1cnJlbnRQbGF5ZXIgPT0gXCJqcC1wbGF5bGlzdFwiKVxyXG4vLyAgICAgICAgbXlQbGF5bGlzdC5wcmV2aW91cyh0cnVlKTtcclxuLy99KTtcclxuXHJcbi8vJChcIi5qcC10eXBlLXBsYXlsaXN0IC5qcC1zZWVrLWJhclwiKS5jbGljayhmdW5jdGlvbigpIHtcclxuLy8gICAgd2luZG93LnBsYXlsaXN0U2Vla0NsaWNrZWQgPSB0cnVlO1xyXG4vL30pOyJdLCJmaWxlIjoicGxheWxpc3QuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

function clearPopup() {
    //Clear the popup so that it doesn't show the other popup html content that was loaded before the server can give us the new content
    $("#popup").empty();
    $("#popup").fadeOut("fast");
    $("#popup").removeClass("popup-wide");
    $("#cover").fadeOut("fast");
}

function showPopup(data) {
    $("#popup").hide().html(data).fadeIn("fast");
    $("#cover").fadeIn("fast");
}

$("#cover").click(function () {
    clearPopup();
});

$(".close-popup-symbol").click(function () {
    clearPopup();
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJwb3B1cC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBjbGVhclBvcHVwKCkge1xyXG4gICAgLy9DbGVhciB0aGUgcG9wdXAgc28gdGhhdCBpdCBkb2Vzbid0IHNob3cgdGhlIG90aGVyIHBvcHVwIGh0bWwgY29udGVudCB0aGF0IHdhcyBsb2FkZWQgYmVmb3JlIHRoZSBzZXJ2ZXIgY2FuIGdpdmUgdXMgdGhlIG5ldyBjb250ZW50XHJcbiAgICAkKFwiI3BvcHVwXCIpLmVtcHR5KCk7XHJcbiAgICAkKFwiI3BvcHVwXCIpLmZhZGVPdXQoXCJmYXN0XCIpO1xyXG4gICAgJChcIiNwb3B1cFwiKS5yZW1vdmVDbGFzcyhcInBvcHVwLXdpZGVcIik7XHJcbiAgICAkKFwiI2NvdmVyXCIpLmZhZGVPdXQoXCJmYXN0XCIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93UG9wdXAoZGF0YSkge1xyXG4gICAgJChcIiNwb3B1cFwiKS5oaWRlKCkuaHRtbChkYXRhKS5mYWRlSW4oXCJmYXN0XCIpO1xyXG4gICAgJChcIiNjb3ZlclwiKS5mYWRlSW4oXCJmYXN0XCIpO1xyXG59XHJcblxyXG4kKFwiI2NvdmVyXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIGNsZWFyUG9wdXAoKTtcclxufSk7XHJcblxyXG4kKFwiLmNsb3NlLXBvcHVwLXN5bWJvbFwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBjbGVhclBvcHVwKCk7XHJcbn0pOyJdLCJmaWxlIjoicG9wdXAuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

function initProfile() {
    $(".playlist-cover").click(function () {
        initFooterPlayer($(this).data().url);
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJwcm9maWxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGluaXRQcm9maWxlKCkge1xyXG4gICAgJChcIi5wbGF5bGlzdC1jb3ZlclwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaW5pdEZvb3RlclBsYXllcigkKHRoaXMpLmRhdGEoKS51cmwpO1xyXG4gICAgfSk7XHJcbn0iXSwiZmlsZSI6InByb2ZpbGUuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

function initLiveStreamCreate() {
    var $dropzones = $(".upload .dropzone.image");
    $("select").select2({
        allowClear: true,
        dropdownAutoWidth: true
    });
    initUnobValidation();
    changeBindings($(".radiostation-details"));

    $dropzones.each(function () {
        //Dropzone already defined
        if ($(this).find(".dz-default").length > 0)
            return;

        $(this).dropzone({
            url: $(this).data().url,
            maxFiles: 1,
            acceptedFiles: dzImageOptions.acceptedFiles,
            dictDefaultMessage: dzImageOptions.dictDefaultMessage,
            dictInvalidFileType: dzImageOptions.dictInvalidFileType,
            thumbnailWidth: dzImageOptions.thumbnailWidth,
            thumbnailHeight: dzImageOptions.thumbnailHeight,
            maxFilesize: dzImageOptions.maxFileSize,
            addRemoveLinks: dzImageOptions.addRemoveLinks,
            init: function () {
                var self = this;
                dzImageOptions.init(this);

                this.on("thumbnail", function (file, dataUri) {
                    dzImageOptions.thumbnail(self, file, dataUri);
                });

                this.on("success", function (file) {
                    $(self.element).siblings("input[name*='.Image']").val(file.name);
                });
            }
        });
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJyYWRpb3N0YXRpb24tY3JlYXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGluaXRMaXZlU3RyZWFtQ3JlYXRlKCkge1xyXG4gICAgdmFyICRkcm9wem9uZXMgPSAkKFwiLnVwbG9hZCAuZHJvcHpvbmUuaW1hZ2VcIik7XHJcbiAgICAkKFwic2VsZWN0XCIpLnNlbGVjdDIoe1xyXG4gICAgICAgIGFsbG93Q2xlYXI6IHRydWUsXHJcbiAgICAgICAgZHJvcGRvd25BdXRvV2lkdGg6IHRydWVcclxuICAgIH0pO1xyXG4gICAgaW5pdFVub2JWYWxpZGF0aW9uKCk7XHJcbiAgICBjaGFuZ2VCaW5kaW5ncygkKFwiLnJhZGlvc3RhdGlvbi1kZXRhaWxzXCIpKTtcclxuXHJcbiAgICAkZHJvcHpvbmVzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vRHJvcHpvbmUgYWxyZWFkeSBkZWZpbmVkXHJcbiAgICAgICAgaWYgKCQodGhpcykuZmluZChcIi5kei1kZWZhdWx0XCIpLmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgJCh0aGlzKS5kcm9wem9uZSh7XHJcbiAgICAgICAgICAgIHVybDogJCh0aGlzKS5kYXRhKCkudXJsLFxyXG4gICAgICAgICAgICBtYXhGaWxlczogMSxcclxuICAgICAgICAgICAgYWNjZXB0ZWRGaWxlczogZHpJbWFnZU9wdGlvbnMuYWNjZXB0ZWRGaWxlcyxcclxuICAgICAgICAgICAgZGljdERlZmF1bHRNZXNzYWdlOiBkekltYWdlT3B0aW9ucy5kaWN0RGVmYXVsdE1lc3NhZ2UsXHJcbiAgICAgICAgICAgIGRpY3RJbnZhbGlkRmlsZVR5cGU6IGR6SW1hZ2VPcHRpb25zLmRpY3RJbnZhbGlkRmlsZVR5cGUsXHJcbiAgICAgICAgICAgIHRodW1ibmFpbFdpZHRoOiBkekltYWdlT3B0aW9ucy50aHVtYm5haWxXaWR0aCxcclxuICAgICAgICAgICAgdGh1bWJuYWlsSGVpZ2h0OiBkekltYWdlT3B0aW9ucy50aHVtYm5haWxIZWlnaHQsXHJcbiAgICAgICAgICAgIG1heEZpbGVzaXplOiBkekltYWdlT3B0aW9ucy5tYXhGaWxlU2l6ZSxcclxuICAgICAgICAgICAgYWRkUmVtb3ZlTGlua3M6IGR6SW1hZ2VPcHRpb25zLmFkZFJlbW92ZUxpbmtzLFxyXG4gICAgICAgICAgICBpbml0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBkekltYWdlT3B0aW9ucy5pbml0KHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMub24oXCJ0aHVtYm5haWxcIiwgZnVuY3Rpb24gKGZpbGUsIGRhdGFVcmkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkekltYWdlT3B0aW9ucy50aHVtYm5haWwoc2VsZiwgZmlsZSwgZGF0YVVyaSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uKFwic3VjY2Vzc1wiLCBmdW5jdGlvbiAoZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoc2VsZi5lbGVtZW50KS5zaWJsaW5ncyhcImlucHV0W25hbWUqPScuSW1hZ2UnXVwiKS52YWwoZmlsZS5uYW1lKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufSJdLCJmaWxlIjoicmFkaW9zdGF0aW9uLWNyZWF0ZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

function initLiveStream() {
    
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJyYWRpb3N0YXRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gaW5pdExpdmVTdHJlYW0oKSB7XHJcbiAgICBcclxufSJdLCJmaWxlIjoicmFkaW9zdGF0aW9uLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

//$("#User").on("change", function (event) {
//    switch (event.currentTarget.selectedIndex) {
//    case 1:
//        window.location.href = "/Users/UserProfile";
//        break;
//    case 2:
//        window.location.href = "/Music/Playlist";
//        break;
//    case 3:
//        window.location.href = "/Users/Settings";
//        break;
//    case 4:
//        window.location.href = "/Users/Logout";
//        break;
//    default:

//    }
//});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJyZWRpcmVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyQoXCIjVXNlclwiKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuLy8gICAgc3dpdGNoIChldmVudC5jdXJyZW50VGFyZ2V0LnNlbGVjdGVkSW5kZXgpIHtcclxuLy8gICAgY2FzZSAxOlxyXG4vLyAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9Vc2Vycy9Vc2VyUHJvZmlsZVwiO1xyXG4vLyAgICAgICAgYnJlYWs7XHJcbi8vICAgIGNhc2UgMjpcclxuLy8gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvTXVzaWMvUGxheWxpc3RcIjtcclxuLy8gICAgICAgIGJyZWFrO1xyXG4vLyAgICBjYXNlIDM6XHJcbi8vICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL1VzZXJzL1NldHRpbmdzXCI7XHJcbi8vICAgICAgICBicmVhaztcclxuLy8gICAgY2FzZSA0OlxyXG4vLyAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9Vc2Vycy9Mb2dvdXRcIjtcclxuLy8gICAgICAgIGJyZWFrO1xyXG4vLyAgICBkZWZhdWx0OlxyXG5cclxuLy8gICAgfVxyXG4vL30pOyJdLCJmaWxlIjoicmVkaXJlY3QuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

$(function () {
    //$.ajax({
    //    url: $("form#search").data("tags-url"),
    //    method: "post",
    //    datatype: "json",
    //    success: function (data) {
    //        $("input[type=search]").catcomplete({
    //            source: data,
    //            appendTo: "#filter",
    //            minLength: 1,
    //            open: function () {
    //                $("#filter > ul").css({
    //                    width: $("#filter").outerWidth(),
    //                    left: $("#filter").offset().left,
    //                    top: $("#filter").position().top + $("#filter").outerHeight()
    //                });
    //            }
    //        });
    //    }
    //});
});

$("#filter div").click(function () {
    if ($(this).hasClass("filter-clicked")) {
        $("input#SelectedFilter").val("None");
    } else {
        $("input#SelectedFilter").val($(this).text().trim());
    }

    $(this).toggleClass("filter-clicked");
    $(this).siblings().removeClass("filter-clicked");
});

$("input[type=search]").focusin(function () {
    $(this).addClass("search-focus");
    $(this).attr("placeholder", "Search. Select the filters below to narrow the search.");
    $(this).next().show();
});

$(document).click(function (event) {
    if (!$(event.target).closest("#filter").length && !$(event.target).is("#filter") && !$(event.target).is("input[type=search]")) {
        if ($("#filter").is(":visible")) {
            hideSearch();
        }
    }
});

function hideSearch() {
    $("input[type=search]").next().hide();
    $("input[type=search]").removeClass("search-focus");
    $("input[type=search]").delay(200).queue(function (next) {
        $("input[type=search]").attr("placeholder", "Search");
        next();
    });
}

$(".fa-search").click(function () {
    $("form#search").submit();
    return false;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJzZWFyY2guanMiXSwic291cmNlc0NvbnRlbnQiOlsiJChmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyQuYWpheCh7XHJcbiAgICAvLyAgICB1cmw6ICQoXCJmb3JtI3NlYXJjaFwiKS5kYXRhKFwidGFncy11cmxcIiksXHJcbiAgICAvLyAgICBtZXRob2Q6IFwicG9zdFwiLFxyXG4gICAgLy8gICAgZGF0YXR5cGU6IFwianNvblwiLFxyXG4gICAgLy8gICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgIC8vICAgICAgICAkKFwiaW5wdXRbdHlwZT1zZWFyY2hdXCIpLmNhdGNvbXBsZXRlKHtcclxuICAgIC8vICAgICAgICAgICAgc291cmNlOiBkYXRhLFxyXG4gICAgLy8gICAgICAgICAgICBhcHBlbmRUbzogXCIjZmlsdGVyXCIsXHJcbiAgICAvLyAgICAgICAgICAgIG1pbkxlbmd0aDogMSxcclxuICAgIC8vICAgICAgICAgICAgb3BlbjogZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgJChcIiNmaWx0ZXIgPiB1bFwiKS5jc3Moe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAkKFwiI2ZpbHRlclwiKS5vdXRlcldpZHRoKCksXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgbGVmdDogJChcIiNmaWx0ZXJcIikub2Zmc2V0KCkubGVmdCxcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICB0b3A6ICQoXCIjZmlsdGVyXCIpLnBvc2l0aW9uKCkudG9wICsgJChcIiNmaWx0ZXJcIikub3V0ZXJIZWlnaHQoKVxyXG4gICAgLy8gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAvLyAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICB9KTtcclxuICAgIC8vICAgIH1cclxuICAgIC8vfSk7XHJcbn0pO1xyXG5cclxuJChcIiNmaWx0ZXIgZGl2XCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKFwiZmlsdGVyLWNsaWNrZWRcIikpIHtcclxuICAgICAgICAkKFwiaW5wdXQjU2VsZWN0ZWRGaWx0ZXJcIikudmFsKFwiTm9uZVwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJChcImlucHV0I1NlbGVjdGVkRmlsdGVyXCIpLnZhbCgkKHRoaXMpLnRleHQoKS50cmltKCkpO1xyXG4gICAgfVxyXG5cclxuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoXCJmaWx0ZXItY2xpY2tlZFwiKTtcclxuICAgICQodGhpcykuc2libGluZ3MoKS5yZW1vdmVDbGFzcyhcImZpbHRlci1jbGlja2VkXCIpO1xyXG59KTtcclxuXHJcbiQoXCJpbnB1dFt0eXBlPXNlYXJjaF1cIikuZm9jdXNpbihmdW5jdGlvbiAoKSB7XHJcbiAgICAkKHRoaXMpLmFkZENsYXNzKFwic2VhcmNoLWZvY3VzXCIpO1xyXG4gICAgJCh0aGlzKS5hdHRyKFwicGxhY2Vob2xkZXJcIiwgXCJTZWFyY2guIFNlbGVjdCB0aGUgZmlsdGVycyBiZWxvdyB0byBuYXJyb3cgdGhlIHNlYXJjaC5cIik7XHJcbiAgICAkKHRoaXMpLm5leHQoKS5zaG93KCk7XHJcbn0pO1xyXG5cclxuJChkb2N1bWVudCkuY2xpY2soZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBpZiAoISQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KFwiI2ZpbHRlclwiKS5sZW5ndGggJiYgISQoZXZlbnQudGFyZ2V0KS5pcyhcIiNmaWx0ZXJcIikgJiYgISQoZXZlbnQudGFyZ2V0KS5pcyhcImlucHV0W3R5cGU9c2VhcmNoXVwiKSkge1xyXG4gICAgICAgIGlmICgkKFwiI2ZpbHRlclwiKS5pcyhcIjp2aXNpYmxlXCIpKSB7XHJcbiAgICAgICAgICAgIGhpZGVTZWFyY2goKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gaGlkZVNlYXJjaCgpIHtcclxuICAgICQoXCJpbnB1dFt0eXBlPXNlYXJjaF1cIikubmV4dCgpLmhpZGUoKTtcclxuICAgICQoXCJpbnB1dFt0eXBlPXNlYXJjaF1cIikucmVtb3ZlQ2xhc3MoXCJzZWFyY2gtZm9jdXNcIik7XHJcbiAgICAkKFwiaW5wdXRbdHlwZT1zZWFyY2hdXCIpLmRlbGF5KDIwMCkucXVldWUoZnVuY3Rpb24gKG5leHQpIHtcclxuICAgICAgICAkKFwiaW5wdXRbdHlwZT1zZWFyY2hdXCIpLmF0dHIoXCJwbGFjZWhvbGRlclwiLCBcIlNlYXJjaFwiKTtcclxuICAgICAgICBuZXh0KCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuJChcIi5mYS1zZWFyY2hcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgJChcImZvcm0jc2VhcmNoXCIpLnN1Ym1pdCgpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59KTsiXSwiZmlsZSI6InNlYXJjaC5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9


//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJzaWRlLWJhci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIiXSwiZmlsZSI6InNpZGUtYmFyLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

function initFileStream() {
    $(".fa-download").click(function () {
        window.location.href = $(this).data().url;
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJzb25nLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGluaXRGaWxlU3RyZWFtKCkge1xyXG4gICAgJChcIi5mYS1kb3dubG9hZFwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAkKHRoaXMpLmRhdGEoKS51cmw7XHJcbiAgICB9KTtcclxufSJdLCJmaWxlIjoic29uZy5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

$(".dl_OtherFileStreams").select2({
    placeholder: "Add related fileStreams",
    allowClear: true
});

$(".dl_OtherFileStreams").on("change", function(e) {
    var ids = [];

    $("select[name=OtherFileStreams] option:selected").each(function() {
        ids = $(this).data().fileStream;
    });

    $.ajax({
        url: window.rootAction + "AddRelatedFileStream",
        data: { fileStreamsToAddId: ids },
        method: "GET",
        success: function(data) {
            $("#tab-content").replaceWith(data);
        }
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJzb25ncy1yZWxhdGVkLXNvbmdzLWVkaXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJChcIi5kbF9PdGhlckZpbGVTdHJlYW1zXCIpLnNlbGVjdDIoe1xyXG4gICAgcGxhY2Vob2xkZXI6IFwiQWRkIHJlbGF0ZWQgZmlsZVN0cmVhbXNcIixcclxuICAgIGFsbG93Q2xlYXI6IHRydWVcclxufSk7XHJcblxyXG4kKFwiLmRsX090aGVyRmlsZVN0cmVhbXNcIikub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgdmFyIGlkcyA9IFtdO1xyXG5cclxuICAgICQoXCJzZWxlY3RbbmFtZT1PdGhlckZpbGVTdHJlYW1zXSBvcHRpb246c2VsZWN0ZWRcIikuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICBpZHMgPSAkKHRoaXMpLmRhdGEoKS5maWxlU3RyZWFtO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6IHdpbmRvdy5yb290QWN0aW9uICsgXCJBZGRSZWxhdGVkRmlsZVN0cmVhbVwiLFxyXG4gICAgICAgIGRhdGE6IHsgZmlsZVN0cmVhbXNUb0FkZElkOiBpZHMgfSxcclxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAkKFwiI3RhYi1jb250ZW50XCIpLnJlcGxhY2VXaXRoKGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59KTsiXSwiZmlsZSI6InNvbmdzLXJlbGF0ZWQtc29uZ3MtZWRpdC5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

function initRequestDeletion() {
    var $selectDir = $("input[value='Duplicate']").parent().next();

    $(".radio-button-list").change(function () {
        if ($("input[value='Duplicate']").prop("checked")) {
            $selectDir.fadeIn("fast");
        } else {
            $selectDir.fadeOut("fast");
        }
    });

    $selectDir.find("select").prepend("<option></option>");
    $selectDir.find("select").val('').trigger('change')
    $selectDir.find("select").select2({
        placeholder: "Select the fileStream that this fileStream is a duplicate of",
        allowClear: true,
        dropdownAutoWidth: true
    });
    $(".radio-button-list").trigger("change");
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJzb25ncy1yZXF1ZXN0LWRlbGV0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGluaXRSZXF1ZXN0RGVsZXRpb24oKSB7XHJcbiAgICB2YXIgJHNlbGVjdERpciA9ICQoXCJpbnB1dFt2YWx1ZT0nRHVwbGljYXRlJ11cIikucGFyZW50KCkubmV4dCgpO1xyXG5cclxuICAgICQoXCIucmFkaW8tYnV0dG9uLWxpc3RcIikuY2hhbmdlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoJChcImlucHV0W3ZhbHVlPSdEdXBsaWNhdGUnXVwiKS5wcm9wKFwiY2hlY2tlZFwiKSkge1xyXG4gICAgICAgICAgICAkc2VsZWN0RGlyLmZhZGVJbihcImZhc3RcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJHNlbGVjdERpci5mYWRlT3V0KFwiZmFzdFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAkc2VsZWN0RGlyLmZpbmQoXCJzZWxlY3RcIikucHJlcGVuZChcIjxvcHRpb24+PC9vcHRpb24+XCIpO1xyXG4gICAgJHNlbGVjdERpci5maW5kKFwic2VsZWN0XCIpLnZhbCgnJykudHJpZ2dlcignY2hhbmdlJylcclxuICAgICRzZWxlY3REaXIuZmluZChcInNlbGVjdFwiKS5zZWxlY3QyKHtcclxuICAgICAgICBwbGFjZWhvbGRlcjogXCJTZWxlY3QgdGhlIGZpbGVTdHJlYW0gdGhhdCB0aGlzIGZpbGVTdHJlYW0gaXMgYSBkdXBsaWNhdGUgb2ZcIixcclxuICAgICAgICBhbGxvd0NsZWFyOiB0cnVlLFxyXG4gICAgICAgIGRyb3Bkb3duQXV0b1dpZHRoOiB0cnVlXHJcbiAgICB9KTtcclxuICAgICQoXCIucmFkaW8tYnV0dG9uLWxpc3RcIikudHJpZ2dlcihcImNoYW5nZVwiKTtcclxufSJdLCJmaWxlIjoic29uZ3MtcmVxdWVzdC1kZWxldGlvbi5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

function initFileStreamRequestEdit() {
    var editUrl = $("input#ImageData").val();

    $(function initDropzoneImage() {
        var $dropzone = $(".dropzone.image");
        $dropzone.dropzone({
            url: $dropzone.data().url,
            maxFiles: 1,
            acceptedFiles: dzImageOptions.acceptedFiles,
            dictDefaultMessage: dzImageOptions.dictDefaultMessage,
            dictInvalidFileType: dzImageOptions.dictInvalidFileType,
            thumbnailWidth: dzImageOptions.thumbnailWidth,
            thumbnailHeight: dzImageOptions.thumbnailHeight,
            maxFilesize: dzImageOptions.maxFileSize,
            addRemoveLinks: dzImageOptions.addRemoveLinks,
            init: function () {
                var self = this;
                var fileName = $("input#ImageViewModel_Name").val();

                dzImageOptions.init(self);

                $.ajax({
                    url: editUrl,
                    data: { fileName: fileName },
                    method: "post",
                    dataType: "json",
                    success: function (file) {
                        // Create the mock file:
                        var mockFile = { name: fileName, size: file.size };

                        // Call the default addedfile event handler
                        self.emit("addedfile", mockFile);

                        // And optionally show the thumbnail of the file:
                        self.emit("thumbnail", mockFile, file.uri);

                        // Make sure that there is no progress bar, etc...
                        self.emit("complete", mockFile);
                    }
                });

                this.on("thumbnail", function (file, dataUri) {
                    dzImageOptions.thumbnail(self, file, dataUri);
                });

                this.on("success", function (file) {
                    file.previewElement.classList.add("dz-success");
                    $(self.element).siblings("input[name*='ImageViewModel.Name']").val(file.name);
                });
            }
        });
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJzb25ncy1yZXF1ZXN0LWVkaXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gaW5pdEZpbGVTdHJlYW1SZXF1ZXN0RWRpdCgpIHtcclxuICAgIHZhciBlZGl0VXJsID0gJChcImlucHV0I0ltYWdlRGF0YVwiKS52YWwoKTtcclxuXHJcbiAgICAkKGZ1bmN0aW9uIGluaXREcm9wem9uZUltYWdlKCkge1xyXG4gICAgICAgIHZhciAkZHJvcHpvbmUgPSAkKFwiLmRyb3B6b25lLmltYWdlXCIpO1xyXG4gICAgICAgICRkcm9wem9uZS5kcm9wem9uZSh7XHJcbiAgICAgICAgICAgIHVybDogJGRyb3B6b25lLmRhdGEoKS51cmwsXHJcbiAgICAgICAgICAgIG1heEZpbGVzOiAxLFxyXG4gICAgICAgICAgICBhY2NlcHRlZEZpbGVzOiBkekltYWdlT3B0aW9ucy5hY2NlcHRlZEZpbGVzLFxyXG4gICAgICAgICAgICBkaWN0RGVmYXVsdE1lc3NhZ2U6IGR6SW1hZ2VPcHRpb25zLmRpY3REZWZhdWx0TWVzc2FnZSxcclxuICAgICAgICAgICAgZGljdEludmFsaWRGaWxlVHlwZTogZHpJbWFnZU9wdGlvbnMuZGljdEludmFsaWRGaWxlVHlwZSxcclxuICAgICAgICAgICAgdGh1bWJuYWlsV2lkdGg6IGR6SW1hZ2VPcHRpb25zLnRodW1ibmFpbFdpZHRoLFxyXG4gICAgICAgICAgICB0aHVtYm5haWxIZWlnaHQ6IGR6SW1hZ2VPcHRpb25zLnRodW1ibmFpbEhlaWdodCxcclxuICAgICAgICAgICAgbWF4RmlsZXNpemU6IGR6SW1hZ2VPcHRpb25zLm1heEZpbGVTaXplLFxyXG4gICAgICAgICAgICBhZGRSZW1vdmVMaW5rczogZHpJbWFnZU9wdGlvbnMuYWRkUmVtb3ZlTGlua3MsXHJcbiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgIHZhciBmaWxlTmFtZSA9ICQoXCJpbnB1dCNJbWFnZVZpZXdNb2RlbF9OYW1lXCIpLnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGR6SW1hZ2VPcHRpb25zLmluaXQoc2VsZik7XHJcblxyXG4gICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IGVkaXRVcmwsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBmaWxlTmFtZTogZmlsZU5hbWUgfSxcclxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwicG9zdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIG1vY2sgZmlsZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vY2tGaWxlID0geyBuYW1lOiBmaWxlTmFtZSwgc2l6ZTogZmlsZS5zaXplIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDYWxsIHRoZSBkZWZhdWx0IGFkZGVkZmlsZSBldmVudCBoYW5kbGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZW1pdChcImFkZGVkZmlsZVwiLCBtb2NrRmlsZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBbmQgb3B0aW9uYWxseSBzaG93IHRoZSB0aHVtYm5haWwgb2YgdGhlIGZpbGU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZW1pdChcInRodW1ibmFpbFwiLCBtb2NrRmlsZSwgZmlsZS51cmkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgdGhlcmUgaXMgbm8gcHJvZ3Jlc3MgYmFyLCBldGMuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5lbWl0KFwiY29tcGxldGVcIiwgbW9ja0ZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMub24oXCJ0aHVtYm5haWxcIiwgZnVuY3Rpb24gKGZpbGUsIGRhdGFVcmkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkekltYWdlT3B0aW9ucy50aHVtYm5haWwoc2VsZiwgZmlsZSwgZGF0YVVyaSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uKFwic3VjY2Vzc1wiLCBmdW5jdGlvbiAoZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGUucHJldmlld0VsZW1lbnQuY2xhc3NMaXN0LmFkZChcImR6LXN1Y2Nlc3NcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJChzZWxmLmVsZW1lbnQpLnNpYmxpbmdzKFwiaW5wdXRbbmFtZSo9J0ltYWdlVmlld01vZGVsLk5hbWUnXVwiKS52YWwoZmlsZS5uYW1lKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufSJdLCJmaWxlIjoic29uZ3MtcmVxdWVzdC1lZGl0LmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

function initAudioDetails() {
    var $dropzones = $(".upload .dropzone.image:visible");

    $(".fileStream-detail-tabs, input[type='submit']").show();

    //initUnobValidation();
    changeBindings($(".required-fileStream-details"));
    changeBindings($(".additional-file-details"));
    changeListBindings($(".additional-file-details"));

    $dropzones.each(function () {
        //Dropzone already defined
        if ($(this).find(".dz-default").length > 0)
            return;

        $(this).dropzone({
            url: $(this).data().url,
            maxFiles: 1,
            acceptedFiles: dzImageOptions.acceptedFiles,
            dictDefaultMessage: dzImageOptions.dictDefaultMessage,
            dictInvalidFileType: dzImageOptions.dictInvalidFileType,
            thumbnailWidth: dzImageOptions.thumbnailWidth,
            thumbnailHeight: dzImageOptions.thumbnailHeight,
            maxFilesize: dzImageOptions.maxFileSize,
            addRemoveLinks: dzImageOptions.addRemoveLinks,
            init: function () {
                var self = this;
                dzImageOptions.init(this);

                this.on("thumbnail", function (file, dataUri) {
                    dzImageOptions.thumbnail(self, file, dataUri);
                });

                this.on("success", function (file) {
                    $(self.element).siblings("input[name*='.Image']").val(file.name);
                });
            }
        });
    });

    $(".bootstrap-tagsinput").addClass("form-control");

    $("select[name*='SelectedCategory']").select2({
        allowClear: true,
        dropdownAutoWidth: true,
        tags: true,
        placeholder: {
            id: "",
            placeholder: ""
        },
        createTag: function (params) {
            return {
                id: params.term,
                text: params.term,
                newOption: true
            }
        },
        templateResult: function (data) {
            var $result = $("<span></span>");

            $result.text(data.text);

            if (data.newOption) {
                $result.append(" <em>(new)</em>");
            }

            return $result;
        },
        templateSelection: function (data) {
            var $option = $(data.element);

            if (data.newOption) {
                var newCategoryTemplate = $(data.element).closest(".required-file-details").siblings("script[type='text/CategoryHidden-template']").html();
                $option.parent().find($option.parent().find("input")).remove();
                $option.append(newCategoryTemplate);
                $option.find("input").val(data.text);
            } else {
                $option.parent().find($option.parent().find("input")).remove();
            }

            data.selected = true;

            return data.text;
        }
    });

    //$(".additional-file-details").on("change", $("input.buy-link"), function (event) {
    //    var $buylink = $(event.target);
    //    var allValuesFilled = true;

    //    $(this).find("input.buy-link").each(function () {
    //        //If the current buylink input has no text in it
    //        if (!$(this).val().trim().length) {
    //            allValuesFilled = false;
    //            return;
    //        }
    //    });

    //    if (allValuesFilled) {
    //        //All buylinks are filled in so lets append another
    //        var $val = $buylink.next();
    //        var $buylinkAndVal = $val.andSelf().clone().insertAfter($val);
    //        $buylinkAndVal.val("");

    //        changeListBindings($(".additional-file-details"));
    //    }
    //});
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJ1cGxvYWQtc29uZy1kZXRhaWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGluaXRBdWRpb0RldGFpbHMoKSB7XHJcbiAgICB2YXIgJGRyb3B6b25lcyA9ICQoXCIudXBsb2FkIC5kcm9wem9uZS5pbWFnZTp2aXNpYmxlXCIpO1xyXG5cclxuICAgICQoXCIuZmlsZVN0cmVhbS1kZXRhaWwtdGFicywgaW5wdXRbdHlwZT0nc3VibWl0J11cIikuc2hvdygpO1xyXG5cclxuICAgIC8vaW5pdFVub2JWYWxpZGF0aW9uKCk7XHJcbiAgICBjaGFuZ2VCaW5kaW5ncygkKFwiLnJlcXVpcmVkLWZpbGVTdHJlYW0tZGV0YWlsc1wiKSk7XHJcbiAgICBjaGFuZ2VCaW5kaW5ncygkKFwiLmFkZGl0aW9uYWwtZmlsZS1kZXRhaWxzXCIpKTtcclxuICAgIGNoYW5nZUxpc3RCaW5kaW5ncygkKFwiLmFkZGl0aW9uYWwtZmlsZS1kZXRhaWxzXCIpKTtcclxuXHJcbiAgICAkZHJvcHpvbmVzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vRHJvcHpvbmUgYWxyZWFkeSBkZWZpbmVkXHJcbiAgICAgICAgaWYgKCQodGhpcykuZmluZChcIi5kei1kZWZhdWx0XCIpLmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgJCh0aGlzKS5kcm9wem9uZSh7XHJcbiAgICAgICAgICAgIHVybDogJCh0aGlzKS5kYXRhKCkudXJsLFxyXG4gICAgICAgICAgICBtYXhGaWxlczogMSxcclxuICAgICAgICAgICAgYWNjZXB0ZWRGaWxlczogZHpJbWFnZU9wdGlvbnMuYWNjZXB0ZWRGaWxlcyxcclxuICAgICAgICAgICAgZGljdERlZmF1bHRNZXNzYWdlOiBkekltYWdlT3B0aW9ucy5kaWN0RGVmYXVsdE1lc3NhZ2UsXHJcbiAgICAgICAgICAgIGRpY3RJbnZhbGlkRmlsZVR5cGU6IGR6SW1hZ2VPcHRpb25zLmRpY3RJbnZhbGlkRmlsZVR5cGUsXHJcbiAgICAgICAgICAgIHRodW1ibmFpbFdpZHRoOiBkekltYWdlT3B0aW9ucy50aHVtYm5haWxXaWR0aCxcclxuICAgICAgICAgICAgdGh1bWJuYWlsSGVpZ2h0OiBkekltYWdlT3B0aW9ucy50aHVtYm5haWxIZWlnaHQsXHJcbiAgICAgICAgICAgIG1heEZpbGVzaXplOiBkekltYWdlT3B0aW9ucy5tYXhGaWxlU2l6ZSxcclxuICAgICAgICAgICAgYWRkUmVtb3ZlTGlua3M6IGR6SW1hZ2VPcHRpb25zLmFkZFJlbW92ZUxpbmtzLFxyXG4gICAgICAgICAgICBpbml0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBkekltYWdlT3B0aW9ucy5pbml0KHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMub24oXCJ0aHVtYm5haWxcIiwgZnVuY3Rpb24gKGZpbGUsIGRhdGFVcmkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkekltYWdlT3B0aW9ucy50aHVtYm5haWwoc2VsZiwgZmlsZSwgZGF0YVVyaSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uKFwic3VjY2Vzc1wiLCBmdW5jdGlvbiAoZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoc2VsZi5lbGVtZW50KS5zaWJsaW5ncyhcImlucHV0W25hbWUqPScuSW1hZ2UnXVwiKS52YWwoZmlsZS5uYW1lKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKFwiLmJvb3RzdHJhcC10YWdzaW5wdXRcIikuYWRkQ2xhc3MoXCJmb3JtLWNvbnRyb2xcIik7XHJcblxyXG4gICAgJChcInNlbGVjdFtuYW1lKj0nU2VsZWN0ZWRDYXRlZ29yeSddXCIpLnNlbGVjdDIoe1xyXG4gICAgICAgIGFsbG93Q2xlYXI6IHRydWUsXHJcbiAgICAgICAgZHJvcGRvd25BdXRvV2lkdGg6IHRydWUsXHJcbiAgICAgICAgdGFnczogdHJ1ZSxcclxuICAgICAgICBwbGFjZWhvbGRlcjoge1xyXG4gICAgICAgICAgICBpZDogXCJcIixcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNyZWF0ZVRhZzogZnVuY3Rpb24gKHBhcmFtcykge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgaWQ6IHBhcmFtcy50ZXJtLFxyXG4gICAgICAgICAgICAgICAgdGV4dDogcGFyYW1zLnRlcm0sXHJcbiAgICAgICAgICAgICAgICBuZXdPcHRpb246IHRydWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGVtcGxhdGVSZXN1bHQ6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIHZhciAkcmVzdWx0ID0gJChcIjxzcGFuPjwvc3Bhbj5cIik7XHJcblxyXG4gICAgICAgICAgICAkcmVzdWx0LnRleHQoZGF0YS50ZXh0KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkYXRhLm5ld09wdGlvbikge1xyXG4gICAgICAgICAgICAgICAgJHJlc3VsdC5hcHBlbmQoXCIgPGVtPihuZXcpPC9lbT5cIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiAkcmVzdWx0O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGVtcGxhdGVTZWxlY3Rpb246IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIHZhciAkb3B0aW9uID0gJChkYXRhLmVsZW1lbnQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGRhdGEubmV3T3B0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3Q2F0ZWdvcnlUZW1wbGF0ZSA9ICQoZGF0YS5lbGVtZW50KS5jbG9zZXN0KFwiLnJlcXVpcmVkLWZpbGUtZGV0YWlsc1wiKS5zaWJsaW5ncyhcInNjcmlwdFt0eXBlPSd0ZXh0L0NhdGVnb3J5SGlkZGVuLXRlbXBsYXRlJ11cIikuaHRtbCgpO1xyXG4gICAgICAgICAgICAgICAgJG9wdGlvbi5wYXJlbnQoKS5maW5kKCRvcHRpb24ucGFyZW50KCkuZmluZChcImlucHV0XCIpKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICRvcHRpb24uYXBwZW5kKG5ld0NhdGVnb3J5VGVtcGxhdGUpO1xyXG4gICAgICAgICAgICAgICAgJG9wdGlvbi5maW5kKFwiaW5wdXRcIikudmFsKGRhdGEudGV4dCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkb3B0aW9uLnBhcmVudCgpLmZpbmQoJG9wdGlvbi5wYXJlbnQoKS5maW5kKFwiaW5wdXRcIikpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkYXRhLnNlbGVjdGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhLnRleHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8kKFwiLmFkZGl0aW9uYWwtZmlsZS1kZXRhaWxzXCIpLm9uKFwiY2hhbmdlXCIsICQoXCJpbnB1dC5idXktbGlua1wiKSwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAvLyAgICB2YXIgJGJ1eWxpbmsgPSAkKGV2ZW50LnRhcmdldCk7XHJcbiAgICAvLyAgICB2YXIgYWxsVmFsdWVzRmlsbGVkID0gdHJ1ZTtcclxuXHJcbiAgICAvLyAgICAkKHRoaXMpLmZpbmQoXCJpbnB1dC5idXktbGlua1wiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgICAgICAvL0lmIHRoZSBjdXJyZW50IGJ1eWxpbmsgaW5wdXQgaGFzIG5vIHRleHQgaW4gaXRcclxuICAgIC8vICAgICAgICBpZiAoISQodGhpcykudmFsKCkudHJpbSgpLmxlbmd0aCkge1xyXG4gICAgLy8gICAgICAgICAgICBhbGxWYWx1ZXNGaWxsZWQgPSBmYWxzZTtcclxuICAgIC8vICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgLy8gICAgICAgIH1cclxuICAgIC8vICAgIH0pO1xyXG5cclxuICAgIC8vICAgIGlmIChhbGxWYWx1ZXNGaWxsZWQpIHtcclxuICAgIC8vICAgICAgICAvL0FsbCBidXlsaW5rcyBhcmUgZmlsbGVkIGluIHNvIGxldHMgYXBwZW5kIGFub3RoZXJcclxuICAgIC8vICAgICAgICB2YXIgJHZhbCA9ICRidXlsaW5rLm5leHQoKTtcclxuICAgIC8vICAgICAgICB2YXIgJGJ1eWxpbmtBbmRWYWwgPSAkdmFsLmFuZFNlbGYoKS5jbG9uZSgpLmluc2VydEFmdGVyKCR2YWwpO1xyXG4gICAgLy8gICAgICAgICRidXlsaW5rQW5kVmFsLnZhbChcIlwiKTtcclxuXHJcbiAgICAvLyAgICAgICAgY2hhbmdlTGlzdEJpbmRpbmdzKCQoXCIuYWRkaXRpb25hbC1maWxlLWRldGFpbHNcIikpO1xyXG4gICAgLy8gICAgfVxyXG4gICAgLy99KTtcclxufSJdLCJmaWxlIjoidXBsb2FkLXNvbmctZGV0YWlscy5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

var dzImageOptions = {
    acceptedFiles: "image/*",
    dictDefaultMessage: "Drag cover image here or click to upload",
    dictInvalidFileType: "Only images are accepted",
    thumbnailWidth: 351,
    thumbnailHeight: 321,
    maxFileSize: 20,
    addRemoveLinks: true,
    init: function (dropzone) {
        $(dropzone.element).find(".dz-message").append("<span class='note'>(<strong>" + dzImageOptions.acceptedFiles + "</strong>)</span>");
    },
    thumbnail: function (dropzone) {
        $(dropzone.element).find(".dz-image").width("100%").height("auto");
        $(dropzone.element).find("img").width("100%").height("100%");
    }
};

function addLiveStream() {
    $.ajax({
        url: $("input#LiveStreamCreateUrl").val(),
        method: "post",
        success: function (data) {
            $("#livestream-container").append(data);
            initLiveStreamCreate();
        }
    });
}

function initUploadAudio() {
    initDropzoneAudio($(".dropzone#file"));
    addLiveStream();

    $("form.radiostation").next("a[href='#']").click(function () {
        addLiveStream();
    });

    $("form.radiostation").on("click", "a[href='#']", function (obj) {
        $(obj.target).parent().remove();
        changeBindings($(".radiostation-details"));
    });

    function initDropzoneAudio($dropzone) {
        var allowedAudioFiles = "audio/*";

        $dropzone.dropzone({
            addRemoveLinks: true,
            maxFilesize: 40,
            acceptedFiles: allowedAudioFiles,
            dictDefaultMessage: "Drag audio files here or click to upload",
            dictInvalidFileType: "Wrong file type has been chosen. See the accepted files at the bottom of this page",
            uploadMultiple: true,
            paramName: "files",
            init: function () {
                var self = this;
                $(this.element).find(".dz-message").append("<span class='note'>(<strong>" + allowedAudioFiles + "</strong>)</span>");

                this.on("addedfile", function (file) {
                    if (this.files.length) {
                        var _i, _len;

                        for (_i = 0, _len = this.files.length; _i < _len - 1; _i++) {
                            //User is trying to upload same file, don't let them
                            if (this.files[_i].name === file.name && this.files[_i].size === file.size && this.files[_i].lastModifiedDate.toString() === file.lastModifiedDate.toString()) {
                                this.removeFile(file);
                            }
                        }
                    }
                });

                this.on("removedfile", function (file, event) {
                    $(".required-file-details[data-file-index='" + file.index + "']").remove();
                    $(".additional-file-details[data-file-index='" + file.index + "']").remove();

                    //Assign the correct indexes and bindings again and change the file indexes to match too
                    $(".required-file-details").each(function (i) {
                        self.files[i].index = i;

                        $(this).attr("data-file-index", i);
                    });

                    $(".additional-file-details").each(function (i) {
                        $(this).attr("data-file-index", i);
                    });

                    changeBindings($(".required-file-details"));
                    changeBindings($(".additional-file-details"));
                });

                this.on("reset", function (file) {
                    $(".file-detail-tabs, input[type='submit']").hide();
                });

                this.on("successmultiple", function (files, response) {
                    $("#upload-file-required-tab").append(response.requiredFileDetailsPartialView);
                    $("#upload-file-additional-tab").append(response.additionalFileDetailsPartialView);

                    for (var i = 0; i < files.length; i++) {
                        files[i].index = $(self.element).find(".dz-preview").index(files[i].previewElement);

                        $(".required-file-details").eq(files[i].index).attr("data-file-index", files[i].index);
                        $(".additional-file-details").eq(files[i].index).attr("data-file-index", files[i].index);
                    }

                    initAudioDetails();
                });

                this.on("error", function (file, errorMessage, xhrObject) {
                    console.log("file: " + file + "error: " + errorMessage + "xhrObject :" + xhrObject);
                });
            }
        });
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJ1cGxvYWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGR6SW1hZ2VPcHRpb25zID0ge1xyXG4gICAgYWNjZXB0ZWRGaWxlczogXCJpbWFnZS8qXCIsXHJcbiAgICBkaWN0RGVmYXVsdE1lc3NhZ2U6IFwiRHJhZyBjb3ZlciBpbWFnZSBoZXJlIG9yIGNsaWNrIHRvIHVwbG9hZFwiLFxyXG4gICAgZGljdEludmFsaWRGaWxlVHlwZTogXCJPbmx5IGltYWdlcyBhcmUgYWNjZXB0ZWRcIixcclxuICAgIHRodW1ibmFpbFdpZHRoOiAzNTEsXHJcbiAgICB0aHVtYm5haWxIZWlnaHQ6IDMyMSxcclxuICAgIG1heEZpbGVTaXplOiAyMCxcclxuICAgIGFkZFJlbW92ZUxpbmtzOiB0cnVlLFxyXG4gICAgaW5pdDogZnVuY3Rpb24gKGRyb3B6b25lKSB7XHJcbiAgICAgICAgJChkcm9wem9uZS5lbGVtZW50KS5maW5kKFwiLmR6LW1lc3NhZ2VcIikuYXBwZW5kKFwiPHNwYW4gY2xhc3M9J25vdGUnPig8c3Ryb25nPlwiICsgZHpJbWFnZU9wdGlvbnMuYWNjZXB0ZWRGaWxlcyArIFwiPC9zdHJvbmc+KTwvc3Bhbj5cIik7XHJcbiAgICB9LFxyXG4gICAgdGh1bWJuYWlsOiBmdW5jdGlvbiAoZHJvcHpvbmUpIHtcclxuICAgICAgICAkKGRyb3B6b25lLmVsZW1lbnQpLmZpbmQoXCIuZHotaW1hZ2VcIikud2lkdGgoXCIxMDAlXCIpLmhlaWdodChcImF1dG9cIik7XHJcbiAgICAgICAgJChkcm9wem9uZS5lbGVtZW50KS5maW5kKFwiaW1nXCIpLndpZHRoKFwiMTAwJVwiKS5oZWlnaHQoXCIxMDAlXCIpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuZnVuY3Rpb24gYWRkTGl2ZVN0cmVhbSgpIHtcclxuICAgICQuYWpheCh7XHJcbiAgICAgICAgdXJsOiAkKFwiaW5wdXQjTGl2ZVN0cmVhbUNyZWF0ZVVybFwiKS52YWwoKSxcclxuICAgICAgICBtZXRob2Q6IFwicG9zdFwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICQoXCIjbGl2ZXN0cmVhbS1jb250YWluZXJcIikuYXBwZW5kKGRhdGEpO1xyXG4gICAgICAgICAgICBpbml0TGl2ZVN0cmVhbUNyZWF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0VXBsb2FkQXVkaW8oKSB7XHJcbiAgICBpbml0RHJvcHpvbmVBdWRpbygkKFwiLmRyb3B6b25lI2ZpbGVcIikpO1xyXG4gICAgYWRkTGl2ZVN0cmVhbSgpO1xyXG5cclxuICAgICQoXCJmb3JtLnJhZGlvc3RhdGlvblwiKS5uZXh0KFwiYVtocmVmPScjJ11cIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGFkZExpdmVTdHJlYW0oKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoXCJmb3JtLnJhZGlvc3RhdGlvblwiKS5vbihcImNsaWNrXCIsIFwiYVtocmVmPScjJ11cIiwgZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgICQob2JqLnRhcmdldCkucGFyZW50KCkucmVtb3ZlKCk7XHJcbiAgICAgICAgY2hhbmdlQmluZGluZ3MoJChcIi5yYWRpb3N0YXRpb24tZGV0YWlsc1wiKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBpbml0RHJvcHpvbmVBdWRpbygkZHJvcHpvbmUpIHtcclxuICAgICAgICB2YXIgYWxsb3dlZEF1ZGlvRmlsZXMgPSBcImF1ZGlvLypcIjtcclxuXHJcbiAgICAgICAgJGRyb3B6b25lLmRyb3B6b25lKHtcclxuICAgICAgICAgICAgYWRkUmVtb3ZlTGlua3M6IHRydWUsXHJcbiAgICAgICAgICAgIG1heEZpbGVzaXplOiA0MCxcclxuICAgICAgICAgICAgYWNjZXB0ZWRGaWxlczogYWxsb3dlZEF1ZGlvRmlsZXMsXHJcbiAgICAgICAgICAgIGRpY3REZWZhdWx0TWVzc2FnZTogXCJEcmFnIGF1ZGlvIGZpbGVzIGhlcmUgb3IgY2xpY2sgdG8gdXBsb2FkXCIsXHJcbiAgICAgICAgICAgIGRpY3RJbnZhbGlkRmlsZVR5cGU6IFwiV3JvbmcgZmlsZSB0eXBlIGhhcyBiZWVuIGNob3Nlbi4gU2VlIHRoZSBhY2NlcHRlZCBmaWxlcyBhdCB0aGUgYm90dG9tIG9mIHRoaXMgcGFnZVwiLFxyXG4gICAgICAgICAgICB1cGxvYWRNdWx0aXBsZTogdHJ1ZSxcclxuICAgICAgICAgICAgcGFyYW1OYW1lOiBcImZpbGVzXCIsXHJcbiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgICQodGhpcy5lbGVtZW50KS5maW5kKFwiLmR6LW1lc3NhZ2VcIikuYXBwZW5kKFwiPHNwYW4gY2xhc3M9J25vdGUnPig8c3Ryb25nPlwiICsgYWxsb3dlZEF1ZGlvRmlsZXMgKyBcIjwvc3Ryb25nPik8L3NwYW4+XCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMub24oXCJhZGRlZGZpbGVcIiwgZnVuY3Rpb24gKGZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5maWxlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9pLCBfbGVuO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSB0aGlzLmZpbGVzLmxlbmd0aDsgX2kgPCBfbGVuIC0gMTsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9Vc2VyIGlzIHRyeWluZyB0byB1cGxvYWQgc2FtZSBmaWxlLCBkb24ndCBsZXQgdGhlbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZmlsZXNbX2ldLm5hbWUgPT09IGZpbGUubmFtZSAmJiB0aGlzLmZpbGVzW19pXS5zaXplID09PSBmaWxlLnNpemUgJiYgdGhpcy5maWxlc1tfaV0ubGFzdE1vZGlmaWVkRGF0ZS50b1N0cmluZygpID09PSBmaWxlLmxhc3RNb2RpZmllZERhdGUudG9TdHJpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRmlsZShmaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMub24oXCJyZW1vdmVkZmlsZVwiLCBmdW5jdGlvbiAoZmlsZSwgZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLnJlcXVpcmVkLWZpbGUtZGV0YWlsc1tkYXRhLWZpbGUtaW5kZXg9J1wiICsgZmlsZS5pbmRleCArIFwiJ11cIikucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5hZGRpdGlvbmFsLWZpbGUtZGV0YWlsc1tkYXRhLWZpbGUtaW5kZXg9J1wiICsgZmlsZS5pbmRleCArIFwiJ11cIikucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vQXNzaWduIHRoZSBjb3JyZWN0IGluZGV4ZXMgYW5kIGJpbmRpbmdzIGFnYWluIGFuZCBjaGFuZ2UgdGhlIGZpbGUgaW5kZXhlcyB0byBtYXRjaCB0b29cclxuICAgICAgICAgICAgICAgICAgICAkKFwiLnJlcXVpcmVkLWZpbGUtZGV0YWlsc1wiKS5lYWNoKGZ1bmN0aW9uIChpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZmlsZXNbaV0uaW5kZXggPSBpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKFwiZGF0YS1maWxlLWluZGV4XCIsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkKFwiLmFkZGl0aW9uYWwtZmlsZS1kZXRhaWxzXCIpLmVhY2goZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKFwiZGF0YS1maWxlLWluZGV4XCIsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VCaW5kaW5ncygkKFwiLnJlcXVpcmVkLWZpbGUtZGV0YWlsc1wiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlQmluZGluZ3MoJChcIi5hZGRpdGlvbmFsLWZpbGUtZGV0YWlsc1wiKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uKFwicmVzZXRcIiwgZnVuY3Rpb24gKGZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLmZpbGUtZGV0YWlsLXRhYnMsIGlucHV0W3R5cGU9J3N1Ym1pdCddXCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMub24oXCJzdWNjZXNzbXVsdGlwbGVcIiwgZnVuY3Rpb24gKGZpbGVzLCByZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjdXBsb2FkLWZpbGUtcmVxdWlyZWQtdGFiXCIpLmFwcGVuZChyZXNwb25zZS5yZXF1aXJlZEZpbGVEZXRhaWxzUGFydGlhbFZpZXcpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjdXBsb2FkLWZpbGUtYWRkaXRpb25hbC10YWJcIikuYXBwZW5kKHJlc3BvbnNlLmFkZGl0aW9uYWxGaWxlRGV0YWlsc1BhcnRpYWxWaWV3KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlc1tpXS5pbmRleCA9ICQoc2VsZi5lbGVtZW50KS5maW5kKFwiLmR6LXByZXZpZXdcIikuaW5kZXgoZmlsZXNbaV0ucHJldmlld0VsZW1lbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5yZXF1aXJlZC1maWxlLWRldGFpbHNcIikuZXEoZmlsZXNbaV0uaW5kZXgpLmF0dHIoXCJkYXRhLWZpbGUtaW5kZXhcIiwgZmlsZXNbaV0uaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmFkZGl0aW9uYWwtZmlsZS1kZXRhaWxzXCIpLmVxKGZpbGVzW2ldLmluZGV4KS5hdHRyKFwiZGF0YS1maWxlLWluZGV4XCIsIGZpbGVzW2ldLmluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGluaXRBdWRpb0RldGFpbHMoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMub24oXCJlcnJvclwiLCBmdW5jdGlvbiAoZmlsZSwgZXJyb3JNZXNzYWdlLCB4aHJPYmplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImZpbGU6IFwiICsgZmlsZSArIFwiZXJyb3I6IFwiICsgZXJyb3JNZXNzYWdlICsgXCJ4aHJPYmplY3QgOlwiICsgeGhyT2JqZWN0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iXSwiZmlsZSI6InVwbG9hZC5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

//function jpPlayClick() {
//    initPlayer("jp-music");
//};

//$(".jp-fake-play").one("click", function() {
//    jpPlayClick();
//});

//$(document).on("click", ".jp-next", function() {
//    var nextFileStream = "";
//    nextFileStream = $("#" + id).closest(".container").nextAll(".container").first().find(".jp-jplayer").first();

//    if (nextFileStream.length > 0) {
//        nextFileStream.jPlayer("play");
//        $("#" + id).trigger($.jPlayer.event.ended);
//    }

//});

//$(document).on("click", ".jp-previous", function() {
//    var previousFileStream = "";
//    previousFileStream = $("#" + id).closest(".container").prevAll(".container").first().find(".jp-jplayer").first();

//    if (previousFileStream.length > 0) {
//        $("#" + id).trigger($.jPlayer.event.ended);
//        previousFileStream.jPlayer("play");
//    }
//});

//$(".fa-pencil").click(function() {
//    var index = $(".fa-pencil").index(this);
//    var id = $(this).attr("id");

//    $.ajax({
//        url: window.href.location + "/Upload/Edit",
//        method: "GET",
//        data: { id: id },
//        success: function(data) {
//            $("#report").hide().html(data).fadeIn();
//            $("#report").fadeIn();
//            $("#cover").fadeIn();
//        }
//    });
//});

//$(".fa-trash").click(function() {
//    var id = $(this).attr("id");

//    $("#delete-confirm").dialog({
//        resizable: false,
//        modal: true,
//        buttons: {
//            "Delete": function() {
//                $(this).dialog("close");
//                $.ajax({
//                    url: window.href.location + "/Upload/Delete",
//                    method: "POST",
//                    data: { id: id },
//                    success: function() {
//                        window.location.reload();
//                    }
//                });
//            },
//            Cancel: function() {
//                $(this).dialog("close");
//            }
//        }
//    });
//});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJ1c2VyLXVzZXItcHJvZmlsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvL2Z1bmN0aW9uIGpwUGxheUNsaWNrKCkge1xyXG4vLyAgICBpbml0UGxheWVyKFwianAtbXVzaWNcIik7XHJcbi8vfTtcclxuXHJcbi8vJChcIi5qcC1mYWtlLXBsYXlcIikub25lKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbi8vICAgIGpwUGxheUNsaWNrKCk7XHJcbi8vfSk7XHJcblxyXG4vLyQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIuanAtbmV4dFwiLCBmdW5jdGlvbigpIHtcclxuLy8gICAgdmFyIG5leHRGaWxlU3RyZWFtID0gXCJcIjtcclxuLy8gICAgbmV4dEZpbGVTdHJlYW0gPSAkKFwiI1wiICsgaWQpLmNsb3Nlc3QoXCIuY29udGFpbmVyXCIpLm5leHRBbGwoXCIuY29udGFpbmVyXCIpLmZpcnN0KCkuZmluZChcIi5qcC1qcGxheWVyXCIpLmZpcnN0KCk7XHJcblxyXG4vLyAgICBpZiAobmV4dEZpbGVTdHJlYW0ubGVuZ3RoID4gMCkge1xyXG4vLyAgICAgICAgbmV4dEZpbGVTdHJlYW0ualBsYXllcihcInBsYXlcIik7XHJcbi8vICAgICAgICAkKFwiI1wiICsgaWQpLnRyaWdnZXIoJC5qUGxheWVyLmV2ZW50LmVuZGVkKTtcclxuLy8gICAgfVxyXG5cclxuLy99KTtcclxuXHJcbi8vJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5qcC1wcmV2aW91c1wiLCBmdW5jdGlvbigpIHtcclxuLy8gICAgdmFyIHByZXZpb3VzRmlsZVN0cmVhbSA9IFwiXCI7XHJcbi8vICAgIHByZXZpb3VzRmlsZVN0cmVhbSA9ICQoXCIjXCIgKyBpZCkuY2xvc2VzdChcIi5jb250YWluZXJcIikucHJldkFsbChcIi5jb250YWluZXJcIikuZmlyc3QoKS5maW5kKFwiLmpwLWpwbGF5ZXJcIikuZmlyc3QoKTtcclxuXHJcbi8vICAgIGlmIChwcmV2aW91c0ZpbGVTdHJlYW0ubGVuZ3RoID4gMCkge1xyXG4vLyAgICAgICAgJChcIiNcIiArIGlkKS50cmlnZ2VyKCQualBsYXllci5ldmVudC5lbmRlZCk7XHJcbi8vICAgICAgICBwcmV2aW91c0ZpbGVTdHJlYW0ualBsYXllcihcInBsYXlcIik7XHJcbi8vICAgIH1cclxuLy99KTtcclxuXHJcbi8vJChcIi5mYS1wZW5jaWxcIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbi8vICAgIHZhciBpbmRleCA9ICQoXCIuZmEtcGVuY2lsXCIpLmluZGV4KHRoaXMpO1xyXG4vLyAgICB2YXIgaWQgPSAkKHRoaXMpLmF0dHIoXCJpZFwiKTtcclxuXHJcbi8vICAgICQuYWpheCh7XHJcbi8vICAgICAgICB1cmw6IHdpbmRvdy5ocmVmLmxvY2F0aW9uICsgXCIvVXBsb2FkL0VkaXRcIixcclxuLy8gICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuLy8gICAgICAgIGRhdGE6IHsgaWQ6IGlkIH0sXHJcbi8vICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XHJcbi8vICAgICAgICAgICAgJChcIiNyZXBvcnRcIikuaGlkZSgpLmh0bWwoZGF0YSkuZmFkZUluKCk7XHJcbi8vICAgICAgICAgICAgJChcIiNyZXBvcnRcIikuZmFkZUluKCk7XHJcbi8vICAgICAgICAgICAgJChcIiNjb3ZlclwiKS5mYWRlSW4oKTtcclxuLy8gICAgICAgIH1cclxuLy8gICAgfSk7XHJcbi8vfSk7XHJcblxyXG4vLyQoXCIuZmEtdHJhc2hcIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbi8vICAgIHZhciBpZCA9ICQodGhpcykuYXR0cihcImlkXCIpO1xyXG5cclxuLy8gICAgJChcIiNkZWxldGUtY29uZmlybVwiKS5kaWFsb2coe1xyXG4vLyAgICAgICAgcmVzaXphYmxlOiBmYWxzZSxcclxuLy8gICAgICAgIG1vZGFsOiB0cnVlLFxyXG4vLyAgICAgICAgYnV0dG9uczoge1xyXG4vLyAgICAgICAgICAgIFwiRGVsZXRlXCI6IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICAgICAgICAkKHRoaXMpLmRpYWxvZyhcImNsb3NlXCIpO1xyXG4vLyAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgdXJsOiB3aW5kb3cuaHJlZi5sb2NhdGlvbiArIFwiL1VwbG9hZC9EZWxldGVcIixcclxuLy8gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbi8vICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IGlkOiBpZCB9LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICB9KTtcclxuLy8gICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgIENhbmNlbDogZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgICAgICQodGhpcykuZGlhbG9nKFwiY2xvc2VcIik7XHJcbi8vICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgfVxyXG4vLyAgICB9KTtcclxuLy99KTsiXSwiZmlsZSI6InVzZXItdXNlci1wcm9maWxlLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

function initCreatePlaylist() {
    $("select").select2({
        allowClear: true,
        dropdownAutoWidth: true
    });

    initUnobValidation();
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJfY3JlYXRlLXBsYXlsaXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGluaXRDcmVhdGVQbGF5bGlzdCgpIHtcclxuICAgICQoXCJzZWxlY3RcIikuc2VsZWN0Mih7XHJcbiAgICAgICAgYWxsb3dDbGVhcjogdHJ1ZSxcclxuICAgICAgICBkcm9wZG93bkF1dG9XaWR0aDogdHJ1ZVxyXG4gICAgfSk7XHJcblxyXG4gICAgaW5pdFVub2JWYWxpZGF0aW9uKCk7XHJcbn0iXSwiZmlsZSI6Il9jcmVhdGUtcGxheWxpc3QuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
